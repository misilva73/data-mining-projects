*------------------------------------------------------------*
User:                misil
Date:                27 December 2017
Time:                18:13:27 o'clock
Site:                70107571
Platform:            X64_10PRO
Maintenance Release: 9.04.01M4P110916
EM Version:          14.2
* 
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "27 December 2017" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18:13:18 o'clock" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                27 December 2017
Time:                18:13:18 o'clock
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O0JGIUQW "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O0JGIUQW new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "27 December 2017" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18:13:18 o'clock" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                misil";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_10PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.04.01M4P110916";
MPRINT(EM_DIAGRAM):   put "EM Version:          14.2";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "27 December 2017" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18:13:18 o'clock" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                misil";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
22403      proc freq data=EMWS1.Clus8_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS1.Clus8_VariableSet noprint;
22404      table ROLE*LEVEL/out=WORK.Clus8META;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.Clus8META;
22405      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 6 observations read from the data set EMWS1.CLUS8_VARIABLESET.
NOTE: The data set WORK.CLUS8META has 2 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
 
 
22406      proc print data=WORK.Clus8META label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Clus8META label noobs;
22407      var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
22408      label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
22409      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
22410      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
22411      run;
 
NOTE: There were 2 observations read from the data set WORK.CLUS8META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
 
 
22412      title10;
MPRINT(EM_DIAGRAM):   title10;
22413      data WORK.M155VOV1;
MPRINT(EM_DIAGRAM):    data WORK.M155VOV1;
22414      set WORK.M155VOV1;
MPRINT(EM_DIAGRAM):   set WORK.M155VOV1;
22415      if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
22416      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.M155VOV1.
NOTE: The data set WORK.M155VOV1 has 5 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Clus8: Preparing metadata for training;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   data WORK.M155VOV1;
MPRINT(EM_DIAGRAM):   set WORK.M155VOV1;
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   run;
22425      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
22426      * Clus8: Training;
MPRINT(EM_DIAGRAM):   * Clus8: Training;
22427      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22428      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
22429      * Clus8: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: DMDBClass Macro ;
22430      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
22431      %macro DMDBClass;
22432
22433      %mend DMDBClass;
22434      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
22435      * Clus8: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: DMDBVar Macro ;
22436      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
22437      %macro DMDBVar;
22438          newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
22439      %mend DMDBVar;
22440      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22441      * Clus8: Create DMDB;
MPRINT(EM_DIAGRAM):   * Clus8: Create DMDB;
22442      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22443      proc dmdb batch data=EMWS1.Filter2_TRAIN
22444      dmdbcat=WORK.Clus8_DMDB
22445      maxlevel = 513
22446      out=WORK.Clus8_DMDB
22447      ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS1.Filter2_TRAIN dmdbcat=WORK.Clus8_DMDB maxlevel = 513 out=WORK.Clus8_DMDB ;
MPRINT(EM_DIAGRAM):   var
22448      var %DMDBVar;
MPRINT(DMDBVAR):   newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
MPRINT(EM_DIAGRAM):  ;
22449      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 9889   Memory used = 511K.
NOTE: There were 10296 observations read from the data set A2Z_INSU.A2Z_INSURANCE.
NOTE: There were 10296 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 10296 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS2_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS3_TRAIN.
NOTE: View EMWS1.FILTER2_TRAIN.VIEW used (Total process time):
      real time           0.29 seconds
      cpu time            0.25 seconds
 
NOTE: There were 10296 observations read from the data set EMWS1.DROP_TRAIN.
NOTE: There were 9889 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: The data set WORK.CLUS8_DMDB has 9889 observations and 5 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.33 seconds
      cpu time            0.26 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
22450      quit;
22451      *--- end code ---*;
 
22452      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
22453      * Clus8: Interval Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: Interval Inputs Macro ;
22454      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
22455      %macro DMVQINTERVAL;
22456          newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
22457      %mend DMVQINTERVAL;
22458      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22459      * Clus8: Run DMVQ procedure;
MPRINT(EM_DIAGRAM):   * Clus8: Run DMVQ procedure;
22460      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22461      title;
MPRINT(EM_DIAGRAM):   title;
22462      options nodate;
MPRINT(EM_DIAGRAM):   options nodate;
22463      proc dmvq data=WORK.Clus8_DMDB dmdbcat=WORK.Clus8_DMDB std=STD nominal=GLM ordinal=RANK
22464      ;
MPRINT(EM_DIAGRAM):   proc dmvq data=WORK.Clus8_DMDB dmdbcat=WORK.Clus8_DMDB std=STD nominal=GLM ordinal=RANK ;
NOTE: The training set WORK.CLUS8_DMDB.DATA has 5 variable(s).
NOTE: The DMVQ statement has finished with return code=0 and status=begin.
MPRINT(EM_DIAGRAM):   input
22465      input %DMVQINTERVAL / level=interval;
MPRINT(DMVQINTERVAL):   newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
MPRINT(EM_DIAGRAM):   / level=interval;
NOTE: 5 input variable(s) defined for ID=I1.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
22466      VQ maxc = 2 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
MPRINT(EM_DIAGRAM):   VQ maxc = 2 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
NOTE: A maximum of 2 clusters have been requested.
NOTE: The VQ statement has finished with return code=0 and status=architecture.
22467      MAKE outvar=EMWS1.Clus8_OUTVAR;
MPRINT(EM_DIAGRAM):   MAKE outvar=EMWS1.Clus8_OUTVAR;
 
NOTE: 5 input variable(s).
NOTE: Number of cases=9889
NOTE: Sum of frequencies=9889
NOTE: Sum of weights=9889
NOTE: VARDEF=DF
NOTE: Maximum number of categories=0
NOTE: The total number of variables is 5 with dimensionality 5.
NOTE: 5 variables will be used for clustering.
NOTE: Open output data set EMWS1.CLUS8_OUTVAR.DATA with 6 variables.
NOTE: The data set EMWS1.CLUS8_OUTVAR has 4 observations and 6 variables.
NOTE: The MAKE statement has finished with return code=0 and status=made.
22468      INITIAL radius=0
22469      initial=PRINCOMP
22470      ;
MPRINT(EM_DIAGRAM):   INITIAL radius=0 initial=PRINCOMP ;
NOTE: 2 seeds were selected from data set WORK.CLUS8_DMDB.DATA using the PRINCOMP algorithm.
NOTE: The INITIAL statement has finished with return code=0 and status=initialized.
22471      TRAIN tech=FORGY
22472      ;
MPRINT(EM_DIAGRAM):   TRAIN tech=FORGY ;
NOTE: F-Convergence criterion is satisfied.
NOTE: The TRAIN statement has finished with return code=0 and status=trained.
22473      SAVE outstat=EMWS1.Clus8_OUTSTAT outmean=EMWS1.Clus8_OUTMEAN;
MPRINT(EM_DIAGRAM):   SAVE outstat=EMWS1.Clus8_OUTSTAT outmean=EMWS1.Clus8_OUTMEAN;
NOTE: The data set EMWS1.CLUS8_OUTSTAT has 28 observations and 8 variables.
NOTE: The data set EMWS1.CLUS8_OUTMEAN has 2 observations and 14 variables.
NOTE: The SAVE statement has finished with return code=0 and status=statistics.
22474      code file="C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\DMVQSCORECODE.sas"
22475      group=Clus8
22476      ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\DMVQSCORECODE.sas" group=Clus8 ;
NOTE: External file C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\DMVQSCORECODE.sas opened.
NOTE: The CODE statement has finished with return code=0 and status=statistics.
22477      run;
MPRINT(EM_DIAGRAM):   run;
 
22478      quit;
MPRINT(EM_DIAGRAM):   quit;
 
NOTE: There were 9889 observations read from the data set WORK.CLUS8_DMDB.
NOTE: PROCEDURE DMVQ used (Total process time):
      real time           0.14 seconds
      cpu time            0.04 seconds
 
 
22479      libname _spdslib;
MPRINT(EM_DIAGRAM):    libname _spdslib;
WARNING: Libref _SPDSLIB is not assigned.
22480      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
22481      * Clus8: Cluster Label;
MPRINT(EM_DIAGRAM):   * Clus8: Cluster Label;
22482      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22483      data EMWS1.Clus8_LABEL;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_LABEL;
22484      length _SEGMENT_ 8 Label $80;
MPRINT(EM_DIAGRAM):   length _SEGMENT_ 8 Label $80;
22485      format _SEGMENT_ 4.;
MPRINT(EM_DIAGRAM):   format _SEGMENT_ 4.;
22486      label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _SEGMENT_ = "Segment Name";
22487      label Label = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentLabel_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Label = "Segment Label";
22488      _SEGMENT_= 1;
MPRINT(EM_DIAGRAM):   _SEGMENT_= 1;
22489      Label='Cluster1';
MPRINT(EM_DIAGRAM):   Label='Cluster1';
22490      output;
MPRINT(EM_DIAGRAM):   output;
22491      _SEGMENT_= 2;
MPRINT(EM_DIAGRAM):   _SEGMENT_= 2;
22492      Label='Cluster2';
MPRINT(EM_DIAGRAM):   Label='Cluster2';
22493      output;
MPRINT(EM_DIAGRAM):   output;
22494      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set EMWS1.CLUS8_LABEL has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "27 December 2017" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18:13:20 o'clock" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Score Log
Date:                27 December 2017
Time:                18:13:20 o'clock
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O19KE3UG "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O19KE3UG new;
MPRINT(EM_DIAGRAM):   run;
22596      proc transpose data=EMWS1.Clus8_OUTVAR out=WORK.Clus8_OUTVAR(rename=(COl2=NAME) where=(COL1='IMPUTED'));
MPRINT(EM_DIAGRAM):    proc transpose data=EMWS1.Clus8_OUTVAR out=WORK.Clus8_OUTVAR(rename=(COl2=NAME) where=(COL1='IMPUTED'));
22597      var newPremHealth--newPremWork;
MPRINT(EM_DIAGRAM):   var newPremHealth--newPremWork;
22598      where _TYPE_ in('TYPE' 'VARIABLE');
MPRINT(EM_DIAGRAM):   where _TYPE_ in('TYPE' 'VARIABLE');
22599      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set EMWS1.CLUS8_OUTVAR.
      WHERE _TYPE_ in ('TYPE', 'VARIABLE');
NOTE: The data set WORK.CLUS8_OUTVAR has 0 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
 
 
22600      proc sort data=WORK.Clus8_OUTVAR;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Clus8_OUTVAR;
22601      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
22602      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.CLUS8_OUTVAR has 0 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
22603      proc sort data=EMWS1.Clus8_VariableSet(KEEP=NAME ROLE LEVEL) out=WORK.Clus8_SORTEDVARS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_VariableSet(KEEP=NAME ROLE LEVEL) out=WORK.Clus8_SORTEDVARS;
22604      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
22605      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 6 observations read from the data set EMWS1.CLUS8_VARIABLESET.
NOTE: The data set WORK.CLUS8_SORTEDVARS has 6 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
22606      data WORK.Clus8_OUTVAR;
MPRINT(EM_DIAGRAM):   data WORK.Clus8_OUTVAR;
22607      merge WORK.Clus8_OUTVAR(in=INVAR) WORK.Clus8_SORTEDVARS;
MPRINT(EM_DIAGRAM):   merge WORK.Clus8_OUTVAR(in=INVAR) WORK.Clus8_SORTEDVARS;
22608      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
22609      if INVAR then output;
MPRINT(EM_DIAGRAM):   if INVAR then output;
22610      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This might cause unexpected results.
NOTE: There were 0 observations read from the data set WORK.CLUS8_OUTVAR.
NOTE: There were 6 observations read from the data set WORK.CLUS8_SORTEDVARS.
NOTE: The data set WORK.CLUS8_OUTVAR has 0 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
22611      filename emflow "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):    filename emflow "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Clus8: Scoring DATA data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22612      *------------------------------------------------------------*;
22613      * Clus8: Scoring DATA data;
22614      *------------------------------------------------------------*;
22615      data EMWS1.Clus8_TRAIN
22616      / view=EMWS1.Clus8_TRAIN
22617      ;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_TRAIN / view=EMWS1.Clus8_TRAIN ;
22618      set EMWS1.Filter2_TRAIN
22619      ;
MPRINT(EM_DIAGRAM):   set EMWS1.Filter2_TRAIN ;
22620      %inc emflow;
MPRINT(EM_DIAGRAM):   *****************************************;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code from PROC DMVQ ***;
MPRINT(EM_DIAGRAM):   *****************************************;
MPRINT(EM_DIAGRAM):   *** Begin Class Look-up, Standardization, Replacement ;
MPRINT(EM_DIAGRAM):   drop _dm_bad;
MPRINT(EM_DIAGRAM):   _dm_bad = 0;
MPRINT(EM_DIAGRAM):   *** Standardize newPremHealth ;
MPRINT(EM_DIAGRAM):   drop T_newPremHealth ;
MPRINT(EM_DIAGRAM):   if missing( newPremHealth ) then T_newPremHealth = .;
MPRINT(EM_DIAGRAM):   else T_newPremHealth = (newPremHealth - 169.635180503589) * 0.01346436244109;
MPRINT(EM_DIAGRAM):   *** Standardize newPremHousehold ;
MPRINT(EM_DIAGRAM):   drop T_newPremHousehold ;
MPRINT(EM_DIAGRAM):   if missing( newPremHousehold ) then T_newPremHousehold = .;
MPRINT(EM_DIAGRAM):   else T_newPremHousehold = (newPremHousehold - 197.588431590653) * 0.00470478682718;
MPRINT(EM_DIAGRAM):   *** Standardize newPremLife ;
MPRINT(EM_DIAGRAM):   drop T_newPremLife ;
MPRINT(EM_DIAGRAM):   if missing( newPremLife ) then T_newPremLife = .;
MPRINT(EM_DIAGRAM):   else T_newPremLife = (newPremLife - 37.3322793002349) * 0.02644481356546;
MPRINT(EM_DIAGRAM):   *** Standardize newPremMotor ;
MPRINT(EM_DIAGRAM):   drop T_newPremMotor ;
MPRINT(EM_DIAGRAM):   if missing( newPremMotor ) then T_newPremMotor = .;
MPRINT(EM_DIAGRAM):   else T_newPremMotor = (newPremMotor - 305.97255839822) * 0.00754702532898;
MPRINT(EM_DIAGRAM):   *** Standardize newPremWork ;
MPRINT(EM_DIAGRAM):   drop T_newPremWork ;
MPRINT(EM_DIAGRAM):   if missing( newPremWork ) then T_newPremWork = .;
MPRINT(EM_DIAGRAM):   else T_newPremWork = (newPremWork - 37.4512539184974) * 0.02618215251777;
MPRINT(EM_DIAGRAM):   *** End Class Look-up, Standardization, Replacement ;
MPRINT(EM_DIAGRAM):   *** Omitted Cases;
MPRINT(EM_DIAGRAM):   if _dm_bad then do;
MPRINT(EM_DIAGRAM):   _SEGMENT_ = .;
MPRINT(EM_DIAGRAM):   Distance = .;
MPRINT(EM_DIAGRAM):   goto CLUS8vlex ;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   *** omitted;
MPRINT(EM_DIAGRAM):   *** Compute Distances and Cluster Membership;
MPRINT(EM_DIAGRAM):   label _SEGMENT_ = 'Segment Id' ;
MPRINT(EM_DIAGRAM):   label Distance = 'Distance' ;
MPRINT(EM_DIAGRAM):   array CLUS8vads [2] _temporary_;
MPRINT(EM_DIAGRAM):   drop _vqclus _vqmvar _vqnvar;
MPRINT(EM_DIAGRAM):   _vqmvar = 0;
MPRINT(EM_DIAGRAM):   do _vqclus = 1 to 2;
MPRINT(EM_DIAGRAM):   CLUS8vads [_vqclus] = 0;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if not missing( T_newPremHealth ) then do;
MPRINT(EM_DIAGRAM):   CLUS8vads [1] + ( T_newPremHealth - -0.50872279165006 )**2;
MPRINT(EM_DIAGRAM):   CLUS8vads [2] + ( T_newPremHealth - 0.60847900418104 )**2;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else _vqmvar + 1;
MPRINT(EM_DIAGRAM):   if not missing( T_newPremHousehold ) then do;
MPRINT(EM_DIAGRAM):   CLUS8vads [1] + ( T_newPremHousehold - -0.51505369245157 )**2;
MPRINT(EM_DIAGRAM):   CLUS8vads [2] + ( T_newPremHousehold - 0.61605134078266 )**2;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else _vqmvar + 1;
MPRINT(EM_DIAGRAM):   if not missing( T_newPremLife ) then do;
MPRINT(EM_DIAGRAM):   CLUS8vads [1] + ( T_newPremLife - -0.53587579857008 )**2;
MPRINT(EM_DIAGRAM):   CLUS8vads [2] + ( T_newPremLife - 0.64095648480965 )**2;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else _vqmvar + 1;
MPRINT(EM_DIAGRAM):   if not missing( T_newPremMotor ) then do;
MPRINT(EM_DIAGRAM):   CLUS8vads [1] + ( T_newPremMotor - 0.7585724788734 )**2;
MPRINT(EM_DIAGRAM):   CLUS8vads [2] + ( T_newPremMotor - -0.90732208998715 )**2;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else _vqmvar + 1;
MPRINT(EM_DIAGRAM):   if not missing( T_newPremWork ) then do;
MPRINT(EM_DIAGRAM):   CLUS8vads [1] + ( T_newPremWork - -0.53010825120418 )**2;
MPRINT(EM_DIAGRAM):   CLUS8vads [2] + ( T_newPremWork - 0.63405797046085 )**2;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else _vqmvar + 1;
MPRINT(EM_DIAGRAM):   _vqnvar = 5 - _vqmvar;
MPRINT(EM_DIAGRAM):   if _vqnvar <= 2.8421709430404E-12 then do;
MPRINT(EM_DIAGRAM):   _SEGMENT_ = .;
MPRINT(EM_DIAGRAM):   Distance = .;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   _SEGMENT_ = 1;
MPRINT(EM_DIAGRAM):   Distance = CLUS8vads [1];
MPRINT(EM_DIAGRAM):   _vqfzdst = Distance * 0.99999999999988;
MPRINT(EM_DIAGRAM):   drop _vqfzdst;
MPRINT(EM_DIAGRAM):   do _vqclus = 2 to 2;
MPRINT(EM_DIAGRAM):   if CLUS8vads [_vqclus] < _vqfzdst then do;
MPRINT(EM_DIAGRAM):   _SEGMENT_ = _vqclus;
MPRINT(EM_DIAGRAM):   Distance = CLUS8vads [_vqclus];
MPRINT(EM_DIAGRAM):   _vqfzdst = Distance * 0.99999999999988;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   Distance = sqrt(Distance * (5 / _vqnvar));
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   CLUS8vlex :;
MPRINT(EM_DIAGRAM):   ***************************************;
MPRINT(EM_DIAGRAM):   *** End Scoring Code from PROC DMVQ ***;
MPRINT(EM_DIAGRAM):   ***************************************;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Clus8: Creating Segment Label;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   length _SEGMENT_LABEL_ $80;
MPRINT(EM_DIAGRAM):   label _SEGMENT_LABEL_= 'Segment Description';
MPRINT(EM_DIAGRAM):   if _SEGMENT_ = 1 then _SEGMENT_LABEL_="Cluster1";
MPRINT(EM_DIAGRAM):   else if _SEGMENT_ = 2 then _SEGMENT_LABEL_="Cluster2";
22724      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file EMWS1.CLUS8_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.FILTER2_TRAIN.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.20 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.21 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
22725      quit;
22726      filename emflow;
MPRINT(EM_DIAGRAM):   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
22727      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
22728      * Clus8: Computing metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   * Clus8: Computing metadata for TRAIN data;
22729      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
 
NOTE: View EMWS1.CLUS8_TRAIN.VIEW used (Total process time):
      real time           0.23 seconds
      cpu time            0.23 seconds
 
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Computing Metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   filename _delta "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\CDELTA_TRAIN.sas";
MPRINT(EMADVISECOLUMNS):   proc display c=sashelp.emmeta.advisecolumns.scl;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options validvarname=any;
MPRINT(EMADVISECOLUMNS):   proc contents data=EMWS1.Clus8_TRAIN out=_tempAdvisor noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   options validvarname=V7;
MPRINT(EMADVISECOLUMNS):    data _null_;
MPRINT(EMADVISECOLUMNS):   dsid = open('EMWS1.Clus8_TRAIN');
MPRINT(EMADVISECOLUMNS):   call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EMADVISECOLUMNS):   if dsid then do;
MPRINT(EMADVISECOLUMNS):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EMADVISECOLUMNS):   dsid = close(dsid);
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc contents data=EMWS1.Clus8_TRAIN out=WORK.M31D1T3B noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M31D1T3B;
MPRINT(EMADVISECOLUMNS):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 36 INFORMAT $36 INDEX $ 1 INDEXTYPE $ 9;
MPRINT(EMADVISECOLUMNS):   label NAME =;
MPRINT(EMADVISECOLUMNS):   set WORK.M31D1T3B(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
MPRINT(EMADVISECOLUMNS):   if itype = 1 then type = 'N';
MPRINT(EMADVISECOLUMNS):   else type = 'C';
MPRINT(EMADVISECOLUMNS):   if formatl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if format ne '' then do;
MPRINT(EMADVISECOLUMNS):   if type='N' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   else format = strip(format)!!strip(put(formatl, best12.))!!'.';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if format ne '' then format = strip(format)!!'.';
MPRINT(EMADVISECOLUMNS):   if informl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if informat ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type='N' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   else informat = strip(informat)!!strip(put(informl, best12.))!!'.';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EMADVISECOLUMNS):   if idxusage = 'NONE' then index ="N";
MPRINT(EMADVISECOLUMNS):   else index = "Y";
MPRINT(EMADVISECOLUMNS):   indextype = idxusage;
MPRINT(EMADVISECOLUMNS):   drop idxusage itype formatl formatd informl informd;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M31D1T3B;
MPRINT(EMADVISECOLUMNS):   length UNAME $64;
MPRINT(EMADVISECOLUMNS):   set WORK.M31D1T3B;
MPRINT(EMADVISECOLUMNS):   UNAME = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc sort data=WORK.M0N0TZQ6 NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by UNAME;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   drop UNAME;
MPRINT(EMADVISECOLUMNS):   set WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3X48355(keep=NAME ATTR);
MPRINT(EMADVISECOLUMNS):   length ATTR $ 20;
MPRINT(EMADVISECOLUMNS):   set WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   if level ne "INTERVAL" then do;
MPRINT(EMADVISECOLUMNS):   if order = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ORDER';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'FORMATTYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ROLE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'LEVEL';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if type = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'TYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if index = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'INDEX';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if report = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'REPORT';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   proc sort NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by attr;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EMADVISECOLUMNS):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EMADVISECOLUMNS):   set WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   if formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   pos = indexc(format,'.1234567890');
MPRINT(EMADVISECOLUMNS):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EMADVISECOLUMNS):   else tempfmt = ' ';
MPRINT(EMADVISECOLUMNS):   flen = length(tempfmt);
MPRINT(EMADVISECOLUMNS):   select;
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" "MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" "QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX"
"YEAR" "YYMMDD" "YYMON" "YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" "EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) formattype = 'DATE';
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" "NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" "Z" "ZD")) formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   formattype = "USER";
MPRINT(EMADVISECOLUMNS):   if compress(tempfmt, '0123456789.', '') = '' then formattype='NUM';
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   else if flen >= 4 then do;
MPRINT(EMADVISECOLUMNS):   str = substr(tempfmt,1,4);
MPRINT(EMADVISECOLUMNS):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EMADVISECOLUMNS):   else if str = "S370" then formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   else if str = "BEST" then formattype = "NUM";
MPRINT(EMADVISECOLUMNS):   drop str;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = "DATE";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   drop flen tempfmt pos;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   formatType = "CATEGORY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if formatType = "NUM" then do;
MPRINT(EMADVISECOLUMNS):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EMADVISECOLUMNS):   else formatType = "QUANTITY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = "NOMINAL";
MPRINT(EMADVISECOLUMNS):   else level = "INTERVAL";
MPRINT(EMADVISECOLUMNS):   levelAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else level = upcase(level);
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   length name_prefix $8 _uname $64;
MPRINT(EMADVISECOLUMNS):   drop name_prefix _uname _freqflag;
MPRINT(EMADVISECOLUMNS):   retain _freqflag;
MPRINT(EMADVISECOLUMNS):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EMADVISECOLUMNS):   _uname = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   select(_uname);
MPRINT(EMADVISECOLUMNS):   when('_PARTIND_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_SEGMENT') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_NODE_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('URI') ROLE = 'URL';
MPRINT(EMADVISECOLUMNS):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'REJECTED';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'FREQ';
MPRINT(EMADVISECOLUMNS):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EMADVISECOLUMNS):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   name_prefix = scan(_uname, 1, '_');
MPRINT(EMADVISECOLUMNS):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EMADVISECOLUMNS):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('Q') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 'RAT') then ROLE = 'RESIDUAL';
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='D' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='B' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 'IC') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 'TIMEID');
MPRINT(EMADVISECOLUMNS):   drop _found_ i;
MPRINT(EMADVISECOLUMNS):   _found_=0;
MPRINT(EMADVISECOLUMNS):   do i=1 to 19 until(_found_=1);
MPRINT(EMADVISECOLUMNS):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EMADVISECOLUMNS):   ROLE=_ROLE_{i};
MPRINT(EMADVISECOLUMNS):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EMADVISECOLUMNS):   _found_=1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if length(_uname)>2 then do;
MPRINT(EMADVISECOLUMNS):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   if symexist('RATEMKG_ROLE') then do;
MPRINT(EMADVISECOLUMNS):   if upcase(symget('RATEMKG_ROLE')) in('Y', 'YES') then do;
MPRINT(EMADVISECOLUMNS):   if _uname =: 'POLICY' then ROLE = 'POLICYID';
MPRINT(EMADVISECOLUMNS):   else if _uname in ('PARTITION', '_PARTIND_') then ROLE = 'PARTITION';
MPRINT(EMADVISECOLUMNS):   else if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   if _uname = 'EXPOSURE' then ROLE = 'EXPOSURE';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'YEAR' then ROLE = 'YEAR';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'WEIGHT' then ROLE = 'WEIGHT';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'OFFSET' then ROLE = 'OFFSET';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EMADVISECOLUMNS):   else role = 'INPUT';
MPRINT(EMADVISECOLUMNS):   roleAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else role = upcase(role);
MPRINT(EMADVISECOLUMNS):   if REPORT = '' then REPORT = 'N';
MPRINT(EMADVISECOLUMNS):   if symexist('dmwb_product') then do;
MPRINT(EMADVISECOLUMNS):   if upcase(symget('dmwb_product')) = 'FACTORYMINER_DATASOURCE' then do;
MPRINT(EMADVISECOLUMNS):   if ROLE ^in('INPUT', 'TARGET', 'REJECTED', 'SEGMENT', 'FREQ', 'ID', 'KEY') then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   set WORK.M0N0TZQ6;
MPRINT(EMADVISECOLUMNS):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= "Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= "Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower
limit" UPPERLIMIT= "Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= "Label" LENGTH= "Length";
MPRINT(EMADVISECOLUMNS):   drop levelAssigned roleAssigned;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.COLUMNMETA;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Merge incoming metadata;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS1.Filter2_TRAIN noprint out=_temp2(keep=NAME);
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_temp2;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Filter2_CMeta_TRAIN out=_temp;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_CMeta_TRAIN;
MPRINT(EM_DIAGRAM):   merge WORK.COLUMNMETA(in=_a) _temp2(in=_b) _temp(drop=FORMAT INFORMAT LENGTH INDEX INDEXTYPE in=_c) end=_eof_;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   if (^_a and _b) or (^_c and _a and _b) then delete;
MPRINT(EM_DIAGRAM):   if ^_b then CREATOR = "Clus8";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Clus8: Apply Delta Code;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   retain _segFlag_ 0;
MPRINT(EM_DIAGRAM):   drop _segFlag_;
MPRINT(EM_DIAGRAM):   if upcase(name) = '_SEGMENT_' then do;
MPRINT(EM_DIAGRAM):   _segFlag_ = 1;
MPRINT(EM_DIAGRAM):   role = 'SEGMENT';
MPRINT(EM_DIAGRAM):   level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   label = 'Segment Variable';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(name) = '_SEGMENT_LABEL_' then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   label = 'Segment Description';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) = 'DISTANCE' then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) = '_IMPUTE_' then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   if ^_segFlag_ and _eof_ then do;
MPRINT(EM_DIAGRAM):   type = 'N';
MPRINT(EM_DIAGRAM):   index = 'N';
MPRINT(EM_DIAGRAM):   indexType = 'NONE';
MPRINT(EM_DIAGRAM):   format = '';
MPRINT(EM_DIAGRAM):   informat = '';
MPRINT(EM_DIAGRAM):   name = '_SEGMENT_';
MPRINT(EM_DIAGRAM):   role = 'SEGMENT';
MPRINT(EM_DIAGRAM):   level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   label = 'Segment Variable';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   name = '_SEGMENT_LABEL_';
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   label = 'Segment Description';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   name = 'Distance';
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   label = 'Distance to Cluster Seed';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   name = '_Impute_';
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   label = '';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _delta;
NOTE: View EMWS1.CLUS8_TRAIN.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "27 December 2017" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18:13:22 o'clock" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Report Log
Date:                27 December 2017
Time:                18:13:22 o'clock
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O2XAMU90 "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O2XAMU90 new;
MPRINT(EM_DIAGRAM):   run;
23139      data WORK.M1WVO78F;
MPRINT(EM_DIAGRAM):    data WORK.M1WVO78F;
23140      set WORK.M1WVO78F;
MPRINT(EM_DIAGRAM):   set WORK.M1WVO78F;
23141      if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
23142      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.M1WVO78F.
NOTE: The data set WORK.M1WVO78F has 5 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23143      data WORK.M1WVO78F;
MPRINT(EM_DIAGRAM):    data WORK.M1WVO78F;
23144      set WORK.M1WVO78F end=_eof_ nobs=_nobs_;
MPRINT(EM_DIAGRAM):   set WORK.M1WVO78F end=_eof_ nobs=_nobs_;
23145      output;
MPRINT(EM_DIAGRAM):   output;
23146      if _eof_ then do;
MPRINT(EM_DIAGRAM):   if _eof_ then do;
23147      name = '_SEGMENT_';
MPRINT(EM_DIAGRAM):   name = '_SEGMENT_';
23148      ROLE = 'TARGET';
MPRINT(EM_DIAGRAM):   ROLE = 'TARGET';
23149      LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
23150      LABEL = 'Segment Variable';
MPRINT(EM_DIAGRAM):   LABEL = 'Segment Variable';
23151      TYPE = 'N';
MPRINT(EM_DIAGRAM):   TYPE = 'N';
23152      FORMAT = '';
MPRINT(EM_DIAGRAM):   FORMAT = '';
23153      INFORMAT = '';
MPRINT(EM_DIAGRAM):   INFORMAT = '';
23154      USE='Y';
MPRINT(EM_DIAGRAM):   USE='Y';
23155      output;
MPRINT(EM_DIAGRAM):   output;
23156      end;
MPRINT(EM_DIAGRAM):   end;
23157      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.M1WVO78F.
NOTE: The data set WORK.M1WVO78F has 6 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23158      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
23159      * Clus8: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Clus8: Create decision matrix;
23160      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23161      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23162      * Clus8: Tree Variables Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: Tree Variables Macro ;
23163      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23164      %macro EM_TREEVARS;
23165          newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
23166      %mend EM_TREEVARS;
23167      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23168      * Clus8: Tree Targets Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: Tree Targets Macro ;
23169      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23170      %macro EM_TREETARGETS;
23171          _SEGMENT_
23172      %mend EM_TREETARGETS;
23173      data EMWS1.EM_Clus8 / view=EMWS1.EM_Clus8;
MPRINT(EM_DIAGRAM):   data EMWS1.EM_Clus8 / view=EMWS1.EM_Clus8;
23174      set
23174    ! EMWS1.Clus8_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_TRAIN(keep
MPRINT(EM_DIAGRAM):  =newPremHealth newPremHousehold newPremLife newPremMotor newPremWork _SEGMENT_);
23175      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file EMWS1.EM_CLUS8.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS8_TRAIN.VIEW used (Total process time):
      real time           0.24 seconds
      cpu time            0.23 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.24 seconds
      cpu time            0.23 seconds
 
 
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Clus8: Interval Inputs Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23176      *------------------------------------------------------------* ;
23177      * Clus8: Interval Inputs Macro ;
23178      *------------------------------------------------------------* ;
23179      %macro INTINPUTS;
23180          newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
23181      %mend INTINPUTS;
23182      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23183      * Clus8: Binary and Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: Binary and Nominal Inputs Macro ;
23184      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23185      %macro NOMINPUTS;
23186
23187      %mend NOMINPUTS;
23188      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23189      * Clus8: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: Ordinal Inputs Macro ;
23190      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23191      %macro ORDINPUTS;
23192
23193      %mend ORDINPUTS;
23194      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23195      * Clus8: Run ARBOR procedure;
MPRINT(EM_DIAGRAM):   * Clus8: Run ARBOR procedure;
23196      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
 
23197      proc arbor data=EMWS1.EM_Clus8
23198      MAXSURRS=4
23199      ;
MPRINT(EM_DIAGRAM):    proc arbor data=EMWS1.EM_Clus8 MAXSURRS=4 ;
23200      ;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_DIAGRAM):   input
23201      input %INTINPUTS
MPRINT(INTINPUTS):   newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
23202      / level = interval;
MPRINT(EM_DIAGRAM):   / level = interval;
23203      target _SEGMENT_ / level=NOMINAL
23204      Criterion=PROBCHISQ
23205      ;
MPRINT(EM_DIAGRAM):   target _SEGMENT_ / level=NOMINAL Criterion=PROBCHISQ ;
23206      ;
MPRINT(EM_DIAGRAM):   ;
23207      Performance DISK
23208      ;
MPRINT(EM_DIAGRAM):   Performance DISK ;
23209      MAKEMACRO NLEAVES=nleaves;
MPRINT(EM_DIAGRAM):   MAKEMACRO NLEAVES=nleaves;
NOTE: 1162626 kilobytes of physical memory.
NOTE: Will use 9889 out of 9889 training cases.
NOTE: Using memory pool with 86893568 bytes.
NOTE: Passed training data 18 times.
NOTE: Training used 1588816 bytes of work memory.
NOTE: The subtree sequence contains 38 subtrees. The largest has 75 nodes and 38 leaves.
NOTE: Using subtree with 47 nodes and 24 leaves.
NOTE: Created macro variable NLEAVES equal to 24.
23210      save
23211      MODEL=EMWS1.Clus8_PLOTDS
23212      SEQUENCE=EMWS1.Clus8_OUTSEQ
23213      IMPORTANCE=EMWS1.Clus8_OUTIMPORT
23214      NODESTAT=EMWS1.Clus8_OUTNODES
23215      SUMMARY=WORK.OUTSUMMARY_TREE_1I23PY4
23216      STATSBYNODE=WORK.OUTSTATS_TREE_1I23PY4
23217      Pathlistnonmissing = WORK.OUTPATH_TREE_1I23PY4
23218      Rules = WORK.OUTRULES_TREE_1I23PY4
23219      ;
MPRINT(EM_DIAGRAM):   save MODEL=EMWS1.Clus8_PLOTDS SEQUENCE=EMWS1.Clus8_OUTSEQ IMPORTANCE=EMWS1.Clus8_OUTIMPORT NODESTAT=EMWS1.Clus8_OUTNODES SUMMARY=WORK.OUTSUMMARY_TREE_1I23PY4 STATSBYNODE=WORK.OUTSTATS_TREE_1I23PY4 Pathlistnonmissing =
WORK.OUTPATH_TREE_1I23PY4 Rules = WORK.OUTRULES_TREE_1I23PY4 ;
NOTE: The data set EMWS1.CLUS8_OUTIMPORT has 5 observations and 5 variables.
NOTE: The data set EMWS1.CLUS8_PLOTDS has 2332 observations and 4 variables.
NOTE: The data set EMWS1.CLUS8_OUTNODES has 47 observations and 20 variables.
NOTE: The data set WORK.OUTPATH_TREE_1I23PY4 has 179 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_1I23PY4 has 658 observations and 6 variables.
NOTE: The data set EMWS1.CLUS8_OUTSEQ has 38 observations and 11 variables.
NOTE: The data set WORK.OUTSTATS_TREE_1I23PY4 has 188 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_1I23PY4 has 12 observations and 5 variables.
23220      run;
MPRINT(EM_DIAGRAM):   run;
 
23221      quit;
MPRINT(EM_DIAGRAM):   quit;
 
NOTE: There were 10296 observations read from the data set A2Z_INSU.A2Z_INSURANCE.
NOTE: There were 10296 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 10296 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS2_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS3_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.DROP_TRAIN.
NOTE: There were 9889 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: View EMWS1.EM_CLUS8.VIEW used (Total process time):
      real time           0.63 seconds
      cpu time            0.51 seconds
 
NOTE: There were 9889 observations read from the data set EMWS1.CLUS8_TRAIN.
NOTE: There were 9889 observations read from the data set EMWS1.EM_CLUS8.
NOTE: The data set WORK._NAMEDAT has 2 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.66 seconds
      cpu time            0.53 seconds
 
 
23222      data EMWS1.Clus8_OUTIMPORT;
MPRINT(EM_DIAGRAM):    data EMWS1.Clus8_OUTIMPORT;
23223      set EMWS1.Clus8_OUTIMPORT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_OUTIMPORT;
23224      label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
23225         "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
23226      ;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" LABEL = "Label" NRULES = "Number of Splitting Rules" IMPORTANCE = "Importance" NSURROGATES = "Number of Surrogate Rules" ;
23227      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set EMWS1.CLUS8_OUTIMPORT.
NOTE: The data set EMWS1.CLUS8_OUTIMPORT has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23228      filename x "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\ENGLISHRULES.txt" encoding='utf-8' NOBOM;
MPRINT(EM_DIAGRAM):   filename x "C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\ENGLISHRULES.txt" encoding='utf-8' NOBOM;
23229      data temp;
MPRINT(EM_DIAGRAM):    data temp;
23230      length varname $16;
MPRINT(EM_DIAGRAM):   length varname $16;
23231      retain varname;
MPRINT(EM_DIAGRAM):   retain varname;
23232      set WORK.OUTPATH_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTPATH_TREE_1I23PY4;
23233      if ^missing(variable) then varname=variable;
MPRINT(EM_DIAGRAM):   if ^missing(variable) then varname=variable;
23234      else if ^missing(var_name) then varname=var_name;
MPRINT(EM_DIAGRAM):   else if ^missing(var_name) then varname=var_name;
23235      output;
MPRINT(EM_DIAGRAM):   output;
23236      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 179 observations read from the data set WORK.OUTPATH_TREE_1I23PY4.
NOTE: The data set WORK.TEMP has 179 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23237      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
23238      by node;
MPRINT(EM_DIAGRAM):   by node;
23239      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 179 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 179 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23240      proc sort data=EMWS1.Clus8_OUTNODES out=outnodes;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_OUTNODES out=outnodes;
23241      by node;
MPRINT(EM_DIAGRAM):   by node;
23242      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_OUTNODES.
NOTE: The data set WORK.OUTNODES has 47 observations and 20 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23243      data temp;
MPRINT(EM_DIAGRAM):   data temp;
23244      merge temp(in=_a) outnodes(keep= node
23245      NPRIORS
23246      P__SEGMENT_1
23247      P__SEGMENT_2
23248      );
MPRINT(EM_DIAGRAM):   merge temp(in=_a) outnodes(keep= node NPRIORS P__SEGMENT_1 P__SEGMENT_2 );
23249      by node;
MPRINT(EM_DIAGRAM):   by node;
23250      if _a;
MPRINT(EM_DIAGRAM):   if _a;
23251      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 179 observations read from the data set WORK.TEMP.
NOTE: There were 47 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 179 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23252      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
23253      by node descending varname descending numeric_value;
MPRINT(EM_DIAGRAM):   by node descending varname descending numeric_value;
23254      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 179 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 179 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23255      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
23256      file x;
MPRINT(EM_DIAGRAM):   file x;
23257      set temp;
MPRINT(EM_DIAGRAM):   set temp;
23258      by node descending varname;
MPRINT(EM_DIAGRAM):   by node descending varname;
23259      retain origvar oldnode string;
MPRINT(EM_DIAGRAM):   retain origvar oldnode string;
23260      length origvar $32 oldnode 8 string $200;
MPRINT(EM_DIAGRAM):   length origvar $32 oldnode 8 string $200;
23261      if _n_ = 1 then do;
MPRINT(EM_DIAGRAM):   if _n_ = 1 then do;
23262      origvar = varname;
MPRINT(EM_DIAGRAM):   origvar = varname;
23263      oldnode = node;
MPRINT(EM_DIAGRAM):   oldnode = node;
23264      end;
MPRINT(EM_DIAGRAM):   end;
23265      if first.node then do;
MPRINT(EM_DIAGRAM):   if first.node then do;
23266      put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
23267      put " Node = " node;
MPRINT(EM_DIAGRAM):   put " Node = " node;
23268      put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
23269      end;
MPRINT(EM_DIAGRAM):   end;
23270      if first.varname then do;
MPRINT(EM_DIAGRAM):   if first.varname then do;
23271      if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
23272      if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
23273      if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
23274      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
23275      string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
23276      end;
MPRINT(EM_DIAGRAM):   end;
23277      else do;
MPRINT(EM_DIAGRAM):   else do;
23278      string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
23279      end;
MPRINT(EM_DIAGRAM):   end;
23280      end;
MPRINT(EM_DIAGRAM):   end;
23281      end;
MPRINT(EM_DIAGRAM):   end;
23282      else do;
MPRINT(EM_DIAGRAM):   else do;
23283      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
23284      string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
23285      end;
MPRINT(EM_DIAGRAM):   end;
23286      else do;
MPRINT(EM_DIAGRAM):   else do;
23287      string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
23288      end;
MPRINT(EM_DIAGRAM):   end;
23289      end;
MPRINT(EM_DIAGRAM):   end;
23290      end;
MPRINT(EM_DIAGRAM):   end;
23291      else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
23292      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
23293      string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
23294      end;
MPRINT(EM_DIAGRAM):   end;
23295      else do;
MPRINT(EM_DIAGRAM):   else do;
23296      string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
23297      end;
MPRINT(EM_DIAGRAM):   end;
23298      end;
MPRINT(EM_DIAGRAM):   end;
23299      else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
23300      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
23301      string = " AND "|| strip(varname) || " equals Missing";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals Missing";
23302      end;
MPRINT(EM_DIAGRAM):   end;
23303      else do;
MPRINT(EM_DIAGRAM):   else do;
23304      string = "if "|| strip(varname) ||" equals Missing";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals Missing";
23305      end;
MPRINT(EM_DIAGRAM):   end;
23306      end;
MPRINT(EM_DIAGRAM):   end;
23307      else if RELATION in ("ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISNOTMISSING") then do;
23308      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
23309      string = " AND "|| strip(varname) || " equals All Values";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals All Values";
23310      end;
MPRINT(EM_DIAGRAM):   end;
23311      else do;
MPRINT(EM_DIAGRAM):   else do;
23312      string = "if "|| strip(varname) ||" equals All Values";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals All Values";
23313      end;
MPRINT(EM_DIAGRAM):   end;
23314      end;
MPRINT(EM_DIAGRAM):   end;
23315      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
23316      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
23317      end;
MPRINT(EM_DIAGRAM):   end;
23318      else do;
MPRINT(EM_DIAGRAM):   else do;
23319      if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
23320      if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
23321      if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
23322      if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
23323      else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
23324      end;
MPRINT(EM_DIAGRAM):   end;
23325      end;
MPRINT(EM_DIAGRAM):   end;
23326      else do;
MPRINT(EM_DIAGRAM):   else do;
23327      if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
23328      else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
23329      end;
MPRINT(EM_DIAGRAM):   end;
23330      end;
MPRINT(EM_DIAGRAM):   end;
23331      else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
23332      string = strip(string)||", "||strip(character_value);
MPRINT(EM_DIAGRAM):   string = strip(string)||", "||strip(character_value);
23333      end;
MPRINT(EM_DIAGRAM):   end;
23334      else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
23335      end;
MPRINT(EM_DIAGRAM):   end;
23336      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
23337      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
23338      end;
MPRINT(EM_DIAGRAM):   end;
23339      if last.varname then do;
MPRINT(EM_DIAGRAM):   if last.varname then do;
23340      if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION in ("ISMISSING") then do;
23341      if ^first.varname then do;
MPRINT(EM_DIAGRAM):   if ^first.varname then do;
23342      string = strip(string) || " or MISSING";
MPRINT(EM_DIAGRAM):   string = strip(string) || " or MISSING";
23343      end;
MPRINT(EM_DIAGRAM):   end;
23344      end;
MPRINT(EM_DIAGRAM):   end;
23345      put string;
MPRINT(EM_DIAGRAM):   put string;
23346      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
23347      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
23348      end;
MPRINT(EM_DIAGRAM):   end;
23349      if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
23350      put "then ";
MPRINT(EM_DIAGRAM):   put "then ";
23351      put " Tree Node Identifier   = " node;
MPRINT(EM_DIAGRAM):   put " Tree Node Identifier   = " node;
23352      put " Number of Observations = " NPRIORS;
MPRINT(EM_DIAGRAM):   put " Number of Observations = " NPRIORS;
23353      put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
MPRINT(EM_DIAGRAM):   put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
23354      put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
MPRINT(EM_DIAGRAM):   put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
23355      put " ";
MPRINT(EM_DIAGRAM):   put " ";
23356      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
23357      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
23358      end;
MPRINT(EM_DIAGRAM):   end;
23359      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      23275:67    23278:66    23322:108   23323:72
NOTE: The file X is:
      Filename=C:\Users\misil\Desktop\MIS\DM1_project\Workspaces\EMWS1\Clus8\ENGLISHRULES.txt,
      RECFM=V,LRECL=131068,File Size (bytes)=0,
      Last Modified=27 December 2017 18:13:23 o'clock,
      Create Time=27 December 2017 18:13:23 o'clock
 
NOTE: 292 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 63.
NOTE: There were 179 observations read from the data set WORK.TEMP.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23360      filename x;
MPRINT(EM_DIAGRAM):    filename x;
NOTE: Fileref X has been deassigned.
23361      /* belowtext */
23362      data templabel;
MPRINT(EM_DIAGRAM):    data templabel;
23363      set WORK.OUTRULES_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_1I23PY4;
23364      if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
MPRINT(EM_DIAGRAM):   if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
23365      rename character_value = belowtext;
MPRINT(EM_DIAGRAM):   rename character_value = belowtext;
23366      keep NODE character_value;
MPRINT(EM_DIAGRAM):   keep NODE character_value;
23367      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 658 observations read from the data set WORK.OUTRULES_TREE_1I23PY4.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23368      data tempvar;
MPRINT(EM_DIAGRAM):   data tempvar;
23369      set WORK.OUTRULES_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_1I23PY4;
23370      if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
MPRINT(EM_DIAGRAM):   if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
23371      keep NODE character_value;
MPRINT(EM_DIAGRAM):   keep NODE character_value;
23372      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 658 observations read from the data set WORK.OUTRULES_TREE_1I23PY4.
NOTE: The data set WORK.TEMPVAR has 23 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23373      proc sort data=templabel;
MPRINT(EM_DIAGRAM):   proc sort data=templabel;
23374      by node;
MPRINT(EM_DIAGRAM):   by node;
23375      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23376      proc sort data=tempvar;
MPRINT(EM_DIAGRAM):   proc sort data=tempvar;
23377      by node;
MPRINT(EM_DIAGRAM):   by node;
23378      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 23 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 23 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23379      data tempbelow;
MPRINT(EM_DIAGRAM):   data tempbelow;
23380      merge templabel tempvar;
MPRINT(EM_DIAGRAM):   merge templabel tempvar;
23381      by node;
MPRINT(EM_DIAGRAM):   by node;
23382      if missing(belowtext) then belowtext= character_value;
MPRINT(EM_DIAGRAM):   if missing(belowtext) then belowtext= character_value;
23383      keep node belowtext;
MPRINT(EM_DIAGRAM):   keep node belowtext;
23384      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 0 observations read from the data set WORK.TEMPLABEL.
NOTE: There were 23 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPBELOW has 23 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23385      proc sort data=tempbelow;
MPRINT(EM_DIAGRAM):   proc sort data=tempbelow;
23386      by node;
MPRINT(EM_DIAGRAM):   by node;
23387      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 23 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.TEMPBELOW has 23 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
23388      /* abovetext */
23389      data tempoutrules;
MPRINT(EM_DIAGRAM):   data tempoutrules;
23390      set WORK.OUTRULES_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_1I23PY4;
23391      if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
MPRINT(EM_DIAGRAM):   if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
23392      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 658 observations read from the data set WORK.OUTRULES_TREE_1I23PY4.
NOTE: The data set WORK.TEMPOUTRULES has 23 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23393      proc sort data=tempoutrules;
MPRINT(EM_DIAGRAM):   proc sort data=tempoutrules;
23394      by node numeric_value;
MPRINT(EM_DIAGRAM):   by node numeric_value;
23395      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 23 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPOUTRULES has 23 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23396      data tempabove;
MPRINT(EM_DIAGRAM):   data tempabove;
23397      set tempoutrules(rename=(node=parent));
MPRINT(EM_DIAGRAM):   set tempoutrules(rename=(node=parent));
23398      by parent numeric_value;
MPRINT(EM_DIAGRAM):   by parent numeric_value;
23399      retain abovetext tempstring flag branch origval origchar;
MPRINT(EM_DIAGRAM):   retain abovetext tempstring flag branch origval origchar;
23400      *length abovetext tempstring origchar $45;
MPRINT(EM_DIAGRAM):   *length abovetext tempstring origchar $45;
23401      length abovetext $256;
MPRINT(EM_DIAGRAM):   length abovetext $256;
23402      length tempstring origchar $64;
MPRINT(EM_DIAGRAM):   length tempstring origchar $64;
23403      if STAT in ("INTERVAL", "ORDINAL") then do;
MPRINT(EM_DIAGRAM):   if STAT in ("INTERVAL", "ORDINAL") then do;
23404      if first.parent then do;
MPRINT(EM_DIAGRAM):   if first.parent then do;
23405      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23406      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
23407      abovetext = "< "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = "< "||strip(NUMERIC_VALUE);
23408      branch = 1;
MPRINT(EM_DIAGRAM):   branch = 1;
23409      origval = numeric_value;
MPRINT(EM_DIAGRAM):   origval = numeric_value;
23410      output;
MPRINT(EM_DIAGRAM):   output;
23411      end;
MPRINT(EM_DIAGRAM):   end;
23412      else do;
MPRINT(EM_DIAGRAM):   else do;
23413      abovetext = "< "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = "< "||strip(CHARACTER_VALUE);
23414      branch = 1;
MPRINT(EM_DIAGRAM):   branch = 1;
23415      origchar = character_value;
MPRINT(EM_DIAGRAM):   origchar = character_value;
23416      output;
MPRINT(EM_DIAGRAM):   output;
23417      end;
MPRINT(EM_DIAGRAM):   end;
23418      if first.parent AND last.parent then do;
MPRINT(EM_DIAGRAM):   if first.parent AND last.parent then do;
23419      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23420      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
23421      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23422      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
23423      output;
MPRINT(EM_DIAGRAM):   output;
23424      end;
MPRINT(EM_DIAGRAM):   end;
23425      else do;
MPRINT(EM_DIAGRAM):   else do;
23426      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23427      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
23428      output;
MPRINT(EM_DIAGRAM):   output;
23429      end;
MPRINT(EM_DIAGRAM):   end;
23430      end;
MPRINT(EM_DIAGRAM):   end;
23431      end;
MPRINT(EM_DIAGRAM):   end;
23432      else if last.parent then do;
MPRINT(EM_DIAGRAM):   else if last.parent then do;
23433      if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
MPRINT(EM_DIAGRAM):   if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
23434      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23435      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
23436      abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
MPRINT(EM_DIAGRAM):   abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
23437      end;
MPRINT(EM_DIAGRAM):   end;
23438      else do;
MPRINT(EM_DIAGRAM):   else do;
23439      abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
MPRINT(EM_DIAGRAM):   abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
23440      end;
MPRINT(EM_DIAGRAM):   end;
23441      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23442      output;
MPRINT(EM_DIAGRAM):   output;
23443      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23444      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
23445      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
23446      end;
MPRINT(EM_DIAGRAM):   end;
23447      else do;
MPRINT(EM_DIAGRAM):   else do;
23448      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
23449      end;
MPRINT(EM_DIAGRAM):   end;
23450      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23451      output;
MPRINT(EM_DIAGRAM):   output;
23452      end;
MPRINT(EM_DIAGRAM):   end;
23453      else do;
MPRINT(EM_DIAGRAM):   else do;
23454      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23455      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
23456      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
23457      end;
MPRINT(EM_DIAGRAM):   end;
23458      else do;
MPRINT(EM_DIAGRAM):   else do;
23459      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
23460      end;
MPRINT(EM_DIAGRAM):   end;
23461      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23462      output;
MPRINT(EM_DIAGRAM):   output;
23463      end;
MPRINT(EM_DIAGRAM):   end;
23464      end;
MPRINT(EM_DIAGRAM):   end;
23465      else do;
MPRINT(EM_DIAGRAM):   else do;
23466      if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
MPRINT(EM_DIAGRAM):   if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
23467      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23468      numeric_value = round(numeric_value,0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value,0.0001);
23469      abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
MPRINT(EM_DIAGRAM):   abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
23470      origval = numeric_value;
MPRINT(EM_DIAGRAM):   origval = numeric_value;
23471      end;
MPRINT(EM_DIAGRAM):   end;
23472      else do;
MPRINT(EM_DIAGRAM):   else do;
23473      abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
MPRINT(EM_DIAGRAM):   abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
23474      origchar = character_value;
MPRINT(EM_DIAGRAM):   origchar = character_value;
23475      end;
MPRINT(EM_DIAGRAM):   end;
23476      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23477      output;
MPRINT(EM_DIAGRAM):   output;
23478      end;
MPRINT(EM_DIAGRAM):   end;
23479      else do;
MPRINT(EM_DIAGRAM):   else do;
23480      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
23481      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
23482      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
23483      origval = numeric_value;
MPRINT(EM_DIAGRAM):   origval = numeric_value;
23484      end;
MPRINT(EM_DIAGRAM):   end;
23485      else do;
MPRINT(EM_DIAGRAM):   else do;
23486      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
23487      origval = character_value;
MPRINT(EM_DIAGRAM):   origval = character_value;
23488      end;
MPRINT(EM_DIAGRAM):   end;
23489      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
23490      output;
MPRINT(EM_DIAGRAM):   output;
23491      end;
MPRINT(EM_DIAGRAM):   end;
23492      end;
MPRINT(EM_DIAGRAM):   end;
23493      end;
MPRINT(EM_DIAGRAM):   end;
23494      else do;
MPRINT(EM_DIAGRAM):   else do;
23495      if first.numeric_value then do;
MPRINT(EM_DIAGRAM):   if first.numeric_value then do;
23496      flag = 0;
MPRINT(EM_DIAGRAM):   flag = 0;
23497      abovetext = CHARACTER_VALUE;
MPRINT(EM_DIAGRAM):   abovetext = CHARACTER_VALUE;
23498      branch = numeric_value;
MPRINT(EM_DIAGRAM):   branch = numeric_value;
23499      if first.numeric_value AND last.numeric_value then do;
MPRINT(EM_DIAGRAM):   if first.numeric_value AND last.numeric_value then do;
23500      output;
MPRINT(EM_DIAGRAM):   output;
23501      end;
MPRINT(EM_DIAGRAM):   end;
23502      end;
MPRINT(EM_DIAGRAM):   end;
23503      else if last.numeric_value then do;
MPRINT(EM_DIAGRAM):   else if last.numeric_value then do;
23504      if flag=0 then do;
MPRINT(EM_DIAGRAM):   if flag=0 then do;
23505      tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
MPRINT(EM_DIAGRAM):   tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
23506      length = length(strip(tempstring));
MPRINT(EM_DIAGRAM):   length = length(strip(tempstring));
23507      if length < 32 then do;
MPRINT(EM_DIAGRAM):   if length < 32 then do;
23508      abovetext = strip(tempstring);
MPRINT(EM_DIAGRAM):   abovetext = strip(tempstring);
23509      end;
MPRINT(EM_DIAGRAM):   end;
23510      else do;
MPRINT(EM_DIAGRAM):   else do;
23511      abovetext = strip(abovetext)||", ...";
MPRINT(EM_DIAGRAM):   abovetext = strip(abovetext)||", ...";
23512      flag = 1;
MPRINT(EM_DIAGRAM):   flag = 1;
23513      end;
MPRINT(EM_DIAGRAM):   end;
23514      end;
MPRINT(EM_DIAGRAM):   end;
23515      branch = numeric_value;
MPRINT(EM_DIAGRAM):   branch = numeric_value;
23516      output;
MPRINT(EM_DIAGRAM):   output;
23517      end;
MPRINT(EM_DIAGRAM):   end;
23518      else do;
MPRINT(EM_DIAGRAM):   else do;
23519      if flag=0 then do;
MPRINT(EM_DIAGRAM):   if flag=0 then do;
23520      tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
MPRINT(EM_DIAGRAM):   tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
23521      length = length(strip(tempstring));
MPRINT(EM_DIAGRAM):   length = length(strip(tempstring));
23522      if length < 32 then do;
MPRINT(EM_DIAGRAM):   if length < 32 then do;
23523      abovetext = strip(tempstring);
MPRINT(EM_DIAGRAM):   abovetext = strip(tempstring);
23524      end;
MPRINT(EM_DIAGRAM):   end;
23525      else do;
MPRINT(EM_DIAGRAM):   else do;
23526      abovetext = strip(abovetext)||", ...";
MPRINT(EM_DIAGRAM):   abovetext = strip(abovetext)||", ...";
23527      flag=1;
MPRINT(EM_DIAGRAM):   flag=1;
23528      end;
MPRINT(EM_DIAGRAM):   end;
23529      end;
MPRINT(EM_DIAGRAM):   end;
23530      branch = numeric_value;
MPRINT(EM_DIAGRAM):   branch = numeric_value;
23531      end;
MPRINT(EM_DIAGRAM):   end;
23532      end;
MPRINT(EM_DIAGRAM):   end;
23533      keep parent branch abovetext;
MPRINT(EM_DIAGRAM):   keep parent branch abovetext;
23534      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      23407:25   23422:26   23436:24   23436:47   23445:26   23456:26   23469:24   23469:47   23482:26
NOTE: Character values have been converted to numeric values at the places given by: (Line):(Column).
      23487:11
NOTE: There were 23 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPABOVE has 46 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23535      /* MIssing value to abovetext */
23536      data tempmissing;
MPRINT(EM_DIAGRAM):   data tempmissing;
23537      set WORK.OUTRULES_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_1I23PY4;
23538      if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
MPRINT(EM_DIAGRAM):   if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
23539      rename node=parent numeric_value=branch character_value=misschar;
MPRINT(EM_DIAGRAM):   rename node=parent numeric_value=branch character_value=misschar;
23540      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 658 observations read from the data set WORK.OUTRULES_TREE_1I23PY4.
NOTE: The data set WORK.TEMPMISSING has 23 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23541      proc sort data=work.tempabove;
MPRINT(EM_DIAGRAM):   proc sort data=work.tempabove;
23542      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
23543      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 46 observations read from the data set WORK.TEMPABOVE.
NOTE: The data set WORK.TEMPABOVE has 46 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23544      proc sort data=EMWS1.Clus8_OUTNODES out=tempoutnodes;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_OUTNODES out=tempoutnodes;
23545      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
23546      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_OUTNODES.
NOTE: The data set WORK.TEMPOUTNODES has 47 observations and 20 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23547      proc sort data=tempmissing;
MPRINT(EM_DIAGRAM):   proc sort data=tempmissing;
23548      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
23549      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 23 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.TEMPMISSING has 23 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23550      data WORK.Clus8_outnodes;
MPRINT(EM_DIAGRAM):   data WORK.Clus8_outnodes;
23551      merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
MPRINT(EM_DIAGRAM):   merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
23552      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
23553      length traintotal validtotal 8;
MPRINT(EM_DIAGRAM):   length traintotal validtotal 8;
23554      retain traintotal validtotal;
MPRINT(EM_DIAGRAM):   retain traintotal validtotal;
23555      if _a then do;
MPRINT(EM_DIAGRAM):   if _a then do;
23556      if ^MISSING(abovetext) then do;
MPRINT(EM_DIAGRAM):   if ^MISSING(abovetext) then do;
23557      abovetext= strip(abovetext)||" %sysfunc(sasmsg(sashelp.dmine, tree_ormiss_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   abovetext= strip(abovetext)||" Or Missing";
23558      end;
MPRINT(EM_DIAGRAM):   end;
23559      else do;
MPRINT(EM_DIAGRAM):   else do;
23560      abovetext = " %sysfunc(sasmsg(sashelp.dmine, tree_missonly_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   abovetext = " Missing Values Only";
23561      end;
MPRINT(EM_DIAGRAM):   end;
23562      end;
MPRINT(EM_DIAGRAM):   end;
23563      if MISSING(abovetext) then abovetext="%sysfunc(sasmsg(sashelp.dmine, tree_nonmiss_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   if MISSING(abovetext) then abovetext="Non-Missing Values";
23564      if node=1 then do;
MPRINT(EM_DIAGRAM):   if node=1 then do;
23565      traintotal = N;
MPRINT(EM_DIAGRAM):   traintotal = N;
23566      validtotal=VN;
MPRINT(EM_DIAGRAM):   validtotal=VN;
23567      end;
MPRINT(EM_DIAGRAM):   end;
23568      label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label traintotal = "Train Total";
23569      drop role rank stat misschar belowtext;
MPRINT(EM_DIAGRAM):   drop role rank stat misschar belowtext;
23570      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable VN is uninitialized.
NOTE: There were 46 observations read from the data set WORK.TEMPABOVE.
NOTE: There were 47 observations read from the data set WORK.TEMPOUTNODES.
NOTE: There were 23 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.CLUS8_OUTNODES has 47 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23571      proc sort data=WORK.Clus8_outnodes;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Clus8_outnodes;
23572      by node;
MPRINT(EM_DIAGRAM):   by node;
23573      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.CLUS8_OUTNODES.
NOTE: The data set WORK.CLUS8_OUTNODES has 47 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23574      proc sort data=tempbelow;
MPRINT(EM_DIAGRAM):   proc sort data=tempbelow;
23575      by node;
MPRINT(EM_DIAGRAM):   by node;
23576      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23577      data WORK.Clus8_outnodes;
MPRINT(EM_DIAGRAM):   data WORK.Clus8_outnodes;
23578      merge WORK.Clus8_outnodes tempbelow;
MPRINT(EM_DIAGRAM):   merge WORK.Clus8_outnodes tempbelow;
23579      by node;
MPRINT(EM_DIAGRAM):   by node;
23580      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.CLUS8_OUTNODES.
NOTE: There were 23 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.CLUS8_OUTNODES has 47 observations and 23 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
NOTE: There were 10296 observations read from the data set A2Z_INSU.A2Z_INSURANCE.
NOTE: There were 10296 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 10296 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS2_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS3_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.DROP_TRAIN.
NOTE: There were 9889 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: View EMWS1.EM_CLUS8.VIEW used (Total process time):
      real time           0.45 seconds
      cpu time            0.45 seconds
 
NOTE: There were 9889 observations read from the data set EMWS1.CLUS8_TRAIN.
23581      data tempoutstats;
MPRINT(EM_DIAGRAM):    data tempoutstats;
23582      set WORK.OUTSTATS_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTSTATS_TREE_1I23PY4;
23583      length tarlevel $8;
MPRINT(EM_DIAGRAM):   length tarlevel $8;
23584      tarlevel ="NOMINAL";
MPRINT(EM_DIAGRAM):   tarlevel ="NOMINAL";
23585      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 188 observations read from the data set WORK.OUTSTATS_TREE_1I23PY4.
NOTE: The data set WORK.TEMPOUTSTATS has 188 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23586      data EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):    data EMWS1.Clus8_TREE_PLOT;
23587      length NODETEXT TEXTALL $800 N NODECOLOR 8;
MPRINT(EM_DIAGRAM):   length NODETEXT TEXTALL $800 N NODECOLOR 8;
23588      set WORK.Clus8_outnodes;
MPRINT(EM_DIAGRAM):   set WORK.Clus8_outnodes;
23589      label parent = "%sysfunc(sasmsg(sashelp.dmine, rpt_parentID_vlabel, noquote))" depth = "%sysfunc(sasmsg(sashelp.dmine, rpt_depth_vlabel, noquote))" belowtext= "%sysfunc(sasmsg(sashelp.dmine, rpt_belowtext_vlabel, noquote))" abovetext =
23590         "%sysfunc(sasmsg(sashelp.dmine, rpt_abovetext_vlabel, noquote))" linkwidth = "%sysfunc(sasmsg(sashelp.dmine, rpt_linkwidth_vlabel, noquote))" nodetext = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodetext_vlabel, noquote))" textall =
23591         "%sysfunc(sasmsg(sashelp.dmine, rpt_textall_vlabel, noquote))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainn_vlabel, noquote))" nodecolor = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodecolor_vlabel, noquote))" node =
23592         "%sysfunc(sasmsg(sashelp.dmine, rpt_node_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label parent = "Parent Id" depth = "Depth" belowtext= "Below Text" abovetext = "Above Text" linkwidth = "Link Width" nodetext = "Node Text" textall = "All Text" N = "Train: Number of Observations" nodecolor = "Node Color" node =
"Node";
23593      keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
MPRINT(EM_DIAGRAM):   keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
23594      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable TEXTALL is uninitialized.
NOTE: Variable NODECOLOR is uninitialized.
NOTE: There were 47 observations read from the data set WORK.CLUS8_OUTNODES.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
23595      proc sort data=EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_TREE_PLOT;
23596      by node;
MPRINT(EM_DIAGRAM):   by node;
23597      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23598      proc sort data=tempoutstats;
MPRINT(EM_DIAGRAM):   proc sort data=tempoutstats;
23599      by node;
MPRINT(EM_DIAGRAM):   by node;
23600      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 188 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set WORK.TEMPOUTSTATS has 188 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23601      data EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):    data EMWS1.Clus8_TREE_PLOT;
23602      merge EMWS1.Clus8_TREE_PLOT tempoutstats;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus8_TREE_PLOT tempoutstats;
23603      length text $800 _RASE_ P__SEGMENT_1 8;
MPRINT(EM_DIAGRAM):   length text $800 _RASE_ P__SEGMENT_1 8;
23604      retain P__SEGMENT_1 eventlevel;
MPRINT(EM_DIAGRAM):   retain P__SEGMENT_1 eventlevel;
23605      by node;
MPRINT(EM_DIAGRAM):   by node;
23606      if statname='N' then N=statvalue;
MPRINT(EM_DIAGRAM):   if statname='N' then N=statvalue;
23607      if statname='NPRIORS' then N=statvalue;
MPRINT(EM_DIAGRAM):   if statname='NPRIORS' then N=statvalue;
23608      if statname='PREDICTION' then eventlevel=category;
MPRINT(EM_DIAGRAM):   if statname='PREDICTION' then eventlevel=category;
23609      _RASE_ = .;
MPRINT(EM_DIAGRAM):   _RASE_ = .;
23610      if tarlevel ^= 'INTERVAL' then do;
MPRINT(EM_DIAGRAM):   if tarlevel ^= 'INTERVAL' then do;
23611      if STATNAME = 'PROBABILITY' then do;
MPRINT(EM_DIAGRAM):   if STATNAME = 'PROBABILITY' then do;
23612      if CATEGORY=EVENTLEVEL then do;
MPRINT(EM_DIAGRAM):   if CATEGORY=EVENTLEVEL then do;
23613      nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
MPRINT(EM_DIAGRAM):   nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
23614      text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
MPRINT(EM_DIAGRAM):   text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
23615      P__SEGMENT_1 = round(STATVALUE, .01);
MPRINT(EM_DIAGRAM):   P__SEGMENT_1 = round(STATVALUE, .01);
23616      end;
MPRINT(EM_DIAGRAM):   end;
23617      else do;
MPRINT(EM_DIAGRAM):   else do;
23618      text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
MPRINT(EM_DIAGRAM):   text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
23619      end;
MPRINT(EM_DIAGRAM):   end;
23620      textall = strip(textall)||'0A'x||strip( text);
MPRINT(EM_DIAGRAM):   textall = strip(textall)||'0A'x||strip( text);
23621      end;
MPRINT(EM_DIAGRAM):   end;
23622      if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
23623      nodetext = trim(nodetext)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
MPRINT(EM_DIAGRAM):   nodetext = trim(nodetext)||'0A'x||" Count:"|| put(N, 13.);
23624      textall = trim(textall)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
MPRINT(EM_DIAGRAM):   textall = trim(textall)||'0A'x||" Count:"|| put(N, 13.);
23625      output EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   output EMWS1.Clus8_TREE_PLOT;
23626      end;
MPRINT(EM_DIAGRAM):   end;
23627      end;
MPRINT(EM_DIAGRAM):   end;
23628      else do;
MPRINT(EM_DIAGRAM):   else do;
23629      if statname='RASE' then _RASE_=statvalue;
MPRINT(EM_DIAGRAM):   if statname='RASE' then _RASE_=statvalue;
23630      label _RASE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_trase_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label _RASE_ = "Train: Root Average Square Error";
23631      if STATNAME = 'PREDICTION' then do;
MPRINT(EM_DIAGRAM):   if STATNAME = 'PREDICTION' then do;
23632      nodetext= "%sysfunc(sasmsg(sashelp.dmine, rpt_average_vlabel, noquote))"|| put(STATVALUE, 13.4)||'0A'x|| "%sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
MPRINT(EM_DIAGRAM):   nodetext= "Average"|| put(STATVALUE, 13.4)||'0A'x|| "Count:"|| put(N, 13.);
23633      textall = nodetext;
MPRINT(EM_DIAGRAM):   textall = nodetext;
23634      P__SEGMENT_1 = STATVALUE;
MPRINT(EM_DIAGRAM):   P__SEGMENT_1 = STATVALUE;
23635      ;
MPRINT(EM_DIAGRAM):   ;
23636      ;
MPRINT(EM_DIAGRAM):   ;
23637      end;
MPRINT(EM_DIAGRAM):   end;
23638      if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
23639      output EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   output EMWS1.Clus8_TREE_PLOT;
23640      end;
MPRINT(EM_DIAGRAM):   end;
23641      ;
MPRINT(EM_DIAGRAM):   ;
23642      end;
MPRINT(EM_DIAGRAM):   end;
23643      label P__SEGMENT_1 = "%sysfunc(sasmsg(sashelp.dmine, rpt_predictedvar_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label P__SEGMENT_1 = "Predicted Variable";
23644      keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_1;
MPRINT(EM_DIAGRAM):   keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_1;
23645      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: There were 188 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
 
 
23646      data tempcolor;
MPRINT(EM_DIAGRAM):   data tempcolor;
23647      set WORK.OUTSTATS_TREE_1I23PY4;
MPRINT(EM_DIAGRAM):   set WORK.OUTSTATS_TREE_1I23PY4;
23648      retain eventlevel;
MPRINT(EM_DIAGRAM):   retain eventlevel;
23649      if STATNAME='PREDICTION' then eventlevel=CATEGORY;
MPRINT(EM_DIAGRAM):   if STATNAME='PREDICTION' then eventlevel=CATEGORY;
23650      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 188 observations read from the data set WORK.OUTSTATS_TREE_1I23PY4.
NOTE: The data set WORK.TEMPCOLOR has 188 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23651      data tempcolor;
MPRINT(EM_DIAGRAM):   data tempcolor;
23652      set tempcolor;
MPRINT(EM_DIAGRAM):   set tempcolor;
23653      if 'NOMINAL' ne 'INTERVAL' then do;
MPRINT(EM_DIAGRAM):   if 'NOMINAL' ne 'INTERVAL' then do;
23654      if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
MPRINT(EM_DIAGRAM):   if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
23655      end;
MPRINT(EM_DIAGRAM):   end;
23656      else do;
MPRINT(EM_DIAGRAM):   else do;
23657      if STATNAME="PREDICTION";
MPRINT(EM_DIAGRAM):   if STATNAME="PREDICTION";
23658      end;
MPRINT(EM_DIAGRAM):   end;
23659      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 188 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 47 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23660      data tempcolor;
MPRINT(EM_DIAGRAM):   data tempcolor;
23661      set tempcolor;
MPRINT(EM_DIAGRAM):   set tempcolor;
23662      length nodecolor 8;
MPRINT(EM_DIAGRAM):   length nodecolor 8;
23663      if 'NOMINAL' ne 'INTERVAL' then do;
MPRINT(EM_DIAGRAM):   if 'NOMINAL' ne 'INTERVAL' then do;
23664      nodecolor = round(100*(STATVALUE), .01);
MPRINT(EM_DIAGRAM):   nodecolor = round(100*(STATVALUE), .01);
23665      end;
MPRINT(EM_DIAGRAM):   end;
23666      else do;
MPRINT(EM_DIAGRAM):   else do;
23667      nodecolor=round(statvalue, .01);
MPRINT(EM_DIAGRAM):   nodecolor=round(statvalue, .01);
23668      end;
MPRINT(EM_DIAGRAM):   end;
23669      keep node nodecolor;
MPRINT(EM_DIAGRAM):   keep node nodecolor;
23670      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 47 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23671      proc sort data=EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_TREE_PLOT;
23672      by node;
MPRINT(EM_DIAGRAM):   by node;
23673      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23674      proc sort data=tempcolor;
MPRINT(EM_DIAGRAM):   proc sort data=tempcolor;
23675      by node;
MPRINT(EM_DIAGRAM):   by node;
23676      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 47 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23677      data EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_TREE_PLOT;
23678      merge EMWS1.Clus8_TREE_PLOT tempcolor;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus8_TREE_PLOT tempcolor;
23679      by node;
MPRINT(EM_DIAGRAM):   by node;
23680      length traintotal 8;
MPRINT(EM_DIAGRAM):   length traintotal 8;
23681      retain traintotal;
MPRINT(EM_DIAGRAM):   retain traintotal;
23682      label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label traintotal = "Train Total";
23683      if node=1 then do;
MPRINT(EM_DIAGRAM):   if node=1 then do;
23684      traintotal = N;
MPRINT(EM_DIAGRAM):   traintotal = N;
23685      end;
MPRINT(EM_DIAGRAM):   end;
23686      if NODE eq . then delete;
MPRINT(EM_DIAGRAM):   if NODE eq . then delete;
23687      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: There were 47 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23688      data EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_TREE_PLOT;
23689      set EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_TREE_PLOT;
23690      textall = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodeId_vlabel, noquote, )):"|| put(Node, 13.)||'0A'x||trim(textall);
MPRINT(EM_DIAGRAM):   textall = "Node Id:"|| put(Node, 13.)||'0A'x||trim(textall);
23691      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23692      data tempout;
MPRINT(EM_DIAGRAM):   data tempout;
23693      set WORK.Clus8_outnodes;
MPRINT(EM_DIAGRAM):   set WORK.Clus8_outnodes;
23694      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.CLUS8_OUTNODES.
NOTE: The data set WORK.TEMPOUT has 47 observations and 23 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23695      proc sort data=tempout;
MPRINT(EM_DIAGRAM):   proc sort data=tempout;
23696      by descending P__SEGMENT_1;
MPRINT(EM_DIAGRAM):   by descending P__SEGMENT_1;
23697      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TEMPOUT has 47 observations and 23 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23698      data tree_temp;
MPRINT(EM_DIAGRAM):   data tree_temp;
23699      set tempout;
MPRINT(EM_DIAGRAM):   set tempout;
23700      if LEAF ne .;
MPRINT(EM_DIAGRAM):   if LEAF ne .;
23701      label index="%sysfunc(sasmsg(sashelp.dmine, rpt_leafindex_vlabel  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label index= "Leaf Index";
23702      label percevent_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_perc_train_vlabel  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percevent_train = "Percent Cases";
23703      label perc_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_percevent_train_vlabel  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label perc_train = "Event Percentage";
23704      label tprob="%sysfunc(sasmsg(sashelp.dmine, rpt_prob_vlabel  , NOQUOTE, %nrbquote()))";
MPRINT(EM_DIAGRAM):   label tprob= "Training Percent ";
23705      tprob = round(P__SEGMENT_1, .01);
MPRINT(EM_DIAGRAM):   tprob = round(P__SEGMENT_1, .01);
23706      percevent_train = round ( tprob*100, .01);
MPRINT(EM_DIAGRAM):   percevent_train = round ( tprob*100, .01);
23707      *perc_train =round( ( N / traintotal)*100, .001);
MPRINT(EM_DIAGRAM):   *perc_train =round( ( N / traintotal)*100, .001);
23708      perc_train =round( ( N / traintotal), .01);
MPRINT(EM_DIAGRAM):   perc_train =round( ( N / traintotal), .01);
23709      if missing(perc_train) then perc_train = round( linkwidth*100, .001);
MPRINT(EM_DIAGRAM):   if missing(perc_train) then perc_train = round( linkwidth*100, .001);
23710      index = _n_;
MPRINT(EM_DIAGRAM):   index = _n_;
23711      keep NODE index tprob perc_train percevent_train
23712      ;
MPRINT(EM_DIAGRAM):   keep NODE index tprob perc_train percevent_train ;
23713      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TREE_TEMP has 24 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23714      proc sort data=tree_temp;
MPRINT(EM_DIAGRAM):   proc sort data=tree_temp;
23715      by NODE;
MPRINT(EM_DIAGRAM):   by NODE;
23716      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set WORK.TREE_TEMP has 24 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23717      proc sort data=EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_TREE_PLOT;
23718      by NODE;
MPRINT(EM_DIAGRAM):   by NODE;
23719      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23720      data EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_TREE_PLOT;
23721      merge EMWS1.Clus8_TREE_PLOT tree_temp;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus8_TREE_PLOT tree_temp;
23722      by NODE;
MPRINT(EM_DIAGRAM):   by NODE;
23723      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: There were 24 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23724      proc sort data=EMWS1.Clus8_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_TREE_PLOT;
23725      by node index;
MPRINT(EM_DIAGRAM):   by node index;
23726      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 47 observations read from the data set EMWS1.CLUS8_TREE_PLOT.
NOTE: The data set EMWS1.CLUS8_TREE_PLOT has 47 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23727      title9 ' ';
MPRINT(EM_DIAGRAM):    title9 ' ';
23728      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_VariableImportance_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Importance";
23729      proc print data=EMWS1.Clus8_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
MPRINT(EM_DIAGRAM):   proc print data=EMWS1.Clus8_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
23730      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set EMWS1.CLUS8_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23731      title10;
MPRINT(EM_DIAGRAM):   title10;
23732      data WORK.M0DO_WQ6;
MPRINT(EM_DIAGRAM):    data WORK.M0DO_WQ6;
23733      set WORK.M0DO_WQ6;
MPRINT(EM_DIAGRAM):   set WORK.M0DO_WQ6;
23734      if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
23735      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 6 observations read from the data set WORK.M0DO_WQ6.
NOTE: The data set WORK.M0DO_WQ6 has 6 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23736      proc sort data=EMWS1.Clus8_OUTIMPORT out=WORK.Clus8_GRAPHVARS(keep=NAME);
MPRINT(EM_DIAGRAM):    proc sort data=EMWS1.Clus8_OUTIMPORT out=WORK.Clus8_GRAPHVARS(keep=NAME);
23737      where IMPORTANCE>0;
MPRINT(EM_DIAGRAM):   where IMPORTANCE>0;
23738      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
23739      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set EMWS1.CLUS8_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The data set WORK.CLUS8_GRAPHVARS has 5 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
23740      proc sort data = WORK.M0DO_WQ6;
MPRINT(EM_DIAGRAM):   proc sort data = WORK.M0DO_WQ6;
23741      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
23742      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 6 observations read from the data set WORK.M0DO_WQ6.
NOTE: The data set WORK.M0DO_WQ6 has 6 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23743      data WORK.M0DO_WQ6;
MPRINT(EM_DIAGRAM):   data WORK.M0DO_WQ6;
23744      merge WORK.M0DO_WQ6 WORK.Clus8_GRAPHVARS(in=_b_);
MPRINT(EM_DIAGRAM):   merge WORK.M0DO_WQ6 WORK.Clus8_GRAPHVARS(in=_b_);
23745      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
23746      if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
MPRINT(EM_DIAGRAM):   if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
23747      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 6 observations read from the data set WORK.M0DO_WQ6.
NOTE: There were 5 observations read from the data set WORK.CLUS8_GRAPHVARS.
NOTE: The data set WORK.M0DO_WQ6 has 5 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23748      data WORK.M0DO_WQ6;
MPRINT(EM_DIAGRAM):    data WORK.M0DO_WQ6;
23749      set WORK.M0DO_WQ6 end=_eof_ nobs=_nobs_;
MPRINT(EM_DIAGRAM):   set WORK.M0DO_WQ6 end=_eof_ nobs=_nobs_;
23750      output;
MPRINT(EM_DIAGRAM):   output;
23751      if _eof_ then do;
MPRINT(EM_DIAGRAM):   if _eof_ then do;
23752      name = '_SEGMENT_';
MPRINT(EM_DIAGRAM):   name = '_SEGMENT_';
23753      ROLE = 'BY';
MPRINT(EM_DIAGRAM):   ROLE = 'BY';
23754      LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
23755      LABEL = 'Segment Variable';
MPRINT(EM_DIAGRAM):   LABEL = 'Segment Variable';
23756      TYPE = 'N';
MPRINT(EM_DIAGRAM):   TYPE = 'N';
23757      FORMAT = '';
MPRINT(EM_DIAGRAM):   FORMAT = '';
23758      INFORMAT = '';
MPRINT(EM_DIAGRAM):   INFORMAT = '';
23759      output;
MPRINT(EM_DIAGRAM):   output;
23760      end;
MPRINT(EM_DIAGRAM):   end;
23761      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.M0DO_WQ6.
NOTE: The data set WORK.M0DO_WQ6 has 6 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23762      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
23763      * Clus8: STDIZE Variables Macro ;
MPRINT(EM_DIAGRAM):   * Clus8: STDIZE Variables Macro ;
23764      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23765      %macro stdizevar;
23766          newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
23767      %mend stdizevar;
23768      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23769      * Clus8: Computing Summary Statistics;
MPRINT(EM_DIAGRAM):   * Clus8: Computing Summary Statistics;
23770      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23771      proc stdize
23772      data = EMWS1.Clus8_TRAIN
23773      out=_null_
23774      outstat=WORK.Clus8_STAT
23775      add=0 fuzz=1E-14 initial=MAD
23776      vardef=df
23777      method=STD
23778      mult=1
23779      pctlmtd=ORD_STAT pctldef=2
23780      pctlpts=(
23781      0
23782      100
23783      )
23784      ;
MPRINT(EM_DIAGRAM):   proc stdize data = EMWS1.Clus8_TRAIN out=_null_ outstat=WORK.Clus8_STAT add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=( 0 100 ) ;
MPRINT(EM_DIAGRAM):   var
23785      var %stdizevar;
MPRINT(STDIZEVAR):   newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
MPRINT(EM_DIAGRAM):  ;
23786      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: There were 10296 observations read from the data set A2Z_INSU.A2Z_INSURANCE.
NOTE: There were 10296 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 10296 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS2_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS3_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.DROP_TRAIN.
NOTE: View EMWS1.CLUS8_TRAIN.VIEW used (Total process time):
      real time           0.38 seconds
      cpu time            0.34 seconds
 
NOTE: There were 9889 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: There were 9889 observations read from the data set EMWS1.CLUS8_TRAIN.
NOTE: The data set WORK.CLUS8_STAT has 10 observations and 6 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.40 seconds
      cpu time            0.35 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
23787      quit;
 
23788      data WORK.Clus8_MINMAX;
MPRINT(EM_DIAGRAM):    data WORK.Clus8_MINMAX;
23789      set WORK.Clus8_STAT;
MPRINT(EM_DIAGRAM):   set WORK.Clus8_STAT;
23790      where _TYPE_ in('P0','P100');
MPRINT(EM_DIAGRAM):   where _TYPE_ in('P0','P100');
23791      if _TYPE_='P0' then _TYPE_='MIN';
MPRINT(EM_DIAGRAM):   if _TYPE_='P0' then _TYPE_='MIN';
23792      else if _TYPE_='P100' then _TYPE_='MAX';
MPRINT(EM_DIAGRAM):   else if _TYPE_='P100' then _TYPE_='MAX';
23793      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set WORK.CLUS8_STAT.
      WHERE _TYPE_ in ('P0', 'P100');
NOTE: The data set WORK.CLUS8_MINMAX has 2 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23794      proc transpose data=WORK.Clus8_MINMAX out=WORK.Clus8_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
MPRINT(EM_DIAGRAM):   proc transpose data=WORK.Clus8_MINMAX out=WORK.Clus8_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
23795      id _TYPE_;
MPRINT(EM_DIAGRAM):   id _TYPE_;
23796      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 2 observations read from the data set WORK.CLUS8_MINMAX.
NOTE: The data set WORK.CLUS8_MINMAX has 5 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
23797      data WORK.Clus8_UGRID;
MPRINT(EM_DIAGRAM):    data WORK.Clus8_UGRID;
23798      set WORK.Clus8_MINMAX;
MPRINT(EM_DIAGRAM):   set WORK.Clus8_MINMAX;
23799      B1 = MIN + (1-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B1 = MIN + (1-1)*(MAX-MIN)/8;
23800      B2 = MIN + (2-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B2 = MIN + (2-1)*(MAX-MIN)/8;
23801      B3 = MIN + (3-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B3 = MIN + (3-1)*(MAX-MIN)/8;
23802      B4 = MIN + (4-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B4 = MIN + (4-1)*(MAX-MIN)/8;
23803      B5 = MIN + (5-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B5 = MIN + (5-1)*(MAX-MIN)/8;
23804      B6 = MIN + (6-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B6 = MIN + (6-1)*(MAX-MIN)/8;
23805      B7 = MIN + (7-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B7 = MIN + (7-1)*(MAX-MIN)/8;
23806      B8 = MIN + (8-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B8 = MIN + (8-1)*(MAX-MIN)/8;
23807      B9 = MIN + (9-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B9 = MIN + (9-1)*(MAX-MIN)/8;
23808      drop MIN MAX;
MPRINT(EM_DIAGRAM):   drop MIN MAX;
23809      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.CLUS8_MINMAX.
NOTE: The data set WORK.CLUS8_UGRID has 5 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23810      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
23811      * Clus8: Creating formats for binning interval variables;
MPRINT(EM_DIAGRAM):   * Clus8: Creating formats for binning interval variables;
23812      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23813      proc format;
MPRINT(EM_DIAGRAM):   proc format;
23814      value F1_
23815      0-55.3575 = "0:55.358"
23816      55.3575-110.715 = "55.358:110.72"
23817      110.715-166.0725 = "110.72:166.07"
23818      166.0725-221.43 = "166.07:221.43"
23819      221.43-276.7875 = "221.43:276.79"
23820      276.7875-332.145 = "276.79:332.15"
23821      332.145-387.5025 = "332.15:387.5"
23822      387.5025-442.86 = "387.5:442.86"
23823      ;
MPRINT(EM_DIAGRAM):   value F1_ 0-55.3575 = "0:55.358" 55.3575-110.715 = "55.358:110.72" 110.715-166.0725 = "110.72:166.07" 166.0725-221.43 = "166.07:221.43" 221.43-276.7875 = "221.43:276.79" 276.7875-332.145 = "276.79:332.15" 332.145-387.5025 =
"332.15:387.5" 387.5025-442.86 = "387.5:442.86" ;
NOTE: Format F1_ has been output.
23824      value F2_
23825      0-156.90625 = "0:156.91"
23826      156.90625-313.8125 = "156.91:313.81"
23827      313.8125-470.71875 = "313.81:470.72"
23828      470.71875-627.625 = "470.72:627.63"
23829      627.625-784.53125 = "627.63:784.53"
23830      784.53125-941.4375 = "784.53:941.44"
23831      941.4375-1098.34375 = "941.44:1098.3"
23832      1098.34375-1255.25 = "1098.3:1255.3"
23833      ;
MPRINT(EM_DIAGRAM):   value F2_ 0-156.90625 = "0:156.91" 156.90625-313.8125 = "156.91:313.81" 313.8125-470.71875 = "313.81:470.72" 470.71875-627.625 = "470.72:627.63" 627.625-784.53125 = "627.63:784.53" 784.53125-941.4375 = "784.53:941.44"
941.4375-1098.34375 = "941.44:1098.3" 1098.34375-1255.25 = "1098.3:1255.3" ;
NOTE: Format F2_ has been output.
23834      value F3_
23835      0-22.8375 = "0:22.838"
23836      22.8375-45.675 = "22.838:45.675"
23837      45.675-68.5125 = "45.675:68.513"
23838      68.5125-91.35 = "68.513:91.35"
23839      91.35-114.1875 = "91.35:114.19"
23840      114.1875-137.025 = "114.19:137.03"
23841      137.025-159.8625 = "137.03:159.86"
23842      159.8625-182.7 = "159.86:182.7"
23843      ;
MPRINT(EM_DIAGRAM):   value F3_ 0-22.8375 = "0:22.838" 22.8375-45.675 = "22.838:45.675" 45.675-68.5125 = "45.675:68.513" 68.5125-91.35 = "68.513:91.35" 91.35-114.1875 = "91.35:114.19" 114.1875-137.025 = "114.19:137.03" 137.025-159.8625 = "137.03:159.86"
159.8625-182.7 = "159.86:182.7" ;
NOTE: Format F3_ has been output.
23844      value F4_
23845      1.78-74.71 = "1.78:74.71"
23846      74.71-147.64 = "74.71:147.64"
23847      147.64-220.57 = "147.64:220.57"
23848      220.57-293.5 = "220.57:293.5"
23849      293.5-366.43 = "293.5:366.43"
23850      366.43-439.36 = "366.43:439.36"
23851      439.36-512.29 = "439.36:512.29"
23852      512.29-585.22 = "512.29:585.22"
23853      ;
MPRINT(EM_DIAGRAM):   value F4_ 1.78-74.71 = "1.78:74.71" 74.71-147.64 = "74.71:147.64" 147.64-220.57 = "147.64:220.57" 220.57-293.5 = "220.57:293.5" 293.5-366.43 = "293.5:366.43" 366.43-439.36 = "366.43:439.36" 439.36-512.29 = "439.36:512.29"
512.29-585.22 = "512.29:585.22" ;
NOTE: Format F4_ has been output.
23854      value F5_
23855      0-24.29625 = "0:24.296"
23856      24.29625-48.5925 = "24.296:48.593"
23857      48.5925-72.88875 = "48.593:72.889"
23858      72.88875-97.185 = "72.889:97.185"
23859      97.185-121.48125 = "97.185:121.48"
23860      121.48125-145.7775 = "121.48:145.78"
23861      145.7775-170.07375 = "145.78:170.07"
23862      170.07375-194.37 = "170.07:194.37"
23863      ;
MPRINT(EM_DIAGRAM):   value F5_ 0-24.29625 = "0:24.296" 24.29625-48.5925 = "24.296:48.593" 48.5925-72.88875 = "48.593:72.889" 72.88875-97.185 = "72.889:97.185" 97.185-121.48125 = "97.185:121.48" 121.48125-145.7775 = "121.48:145.78" 145.7775-170.07375 =
"145.78:170.07" 170.07375-194.37 = "170.07:194.37" ;
NOTE: Format F5_ has been output.
MPRINT(EM_DIAGRAM):   run;
23864      run;
 
NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23865      ods listing close;
MPRINT(EM_DIAGRAM):    ods listing close;
23866      ods output crosstabfreqs=WORK.TEMPFREQ;
MPRINT(EM_DIAGRAM):   ods output crosstabfreqs=WORK.TEMPFREQ;
23867      proc freq data = EMWS1.Clus8_TRAIN order=formatted addnames;
MPRINT(EM_DIAGRAM):   proc freq data = EMWS1.Clus8_TRAIN order=formatted addnames;
23868      table newPremHealth * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table newPremHealth * _SEGMENT_ / missing;
23869      table newPremHousehold * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table newPremHousehold * _SEGMENT_ / missing;
23870      table newPremLife * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table newPremLife * _SEGMENT_ / missing;
23871      table newPremMotor * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table newPremMotor * _SEGMENT_ / missing;
23872      table newPremWork * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table newPremWork * _SEGMENT_ / missing;
23873      format NEWPREMHEALTH F1_.;
MPRINT(EM_DIAGRAM):   format NEWPREMHEALTH F1_.;
23874      format NEWPREMHOUSEHOLD F2_.;
MPRINT(EM_DIAGRAM):   format NEWPREMHOUSEHOLD F2_.;
23875      format NEWPREMLIFE F3_.;
MPRINT(EM_DIAGRAM):   format NEWPREMLIFE F3_.;
23876      format NEWPREMMOTOR F4_.;
MPRINT(EM_DIAGRAM):   format NEWPREMMOTOR F4_.;
23877      format NEWPREMWORK F5_.;
MPRINT(EM_DIAGRAM):   format NEWPREMWORK F5_.;
23878      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 10296 observations read from the data set A2Z_INSU.A2Z_INSURANCE.
NOTE: There were 10296 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 10296 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS2_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.TRANS3_TRAIN.
NOTE: There were 10296 observations read from the data set EMWS1.DROP_TRAIN.
NOTE: View EMWS1.CLUS8_TRAIN.VIEW used (Total process time):
      real time           0.40 seconds
      cpu time            0.31 seconds
 
NOTE: There were 9889 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: The data set WORK.TEMPFREQ has 135 observations and 16 variables.
NOTE: There were 9889 observations read from the data set EMWS1.CLUS8_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.43 seconds
      cpu time            0.34 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
23879      quit;
23880      ods listing;
MPRINT(EM_DIAGRAM):   ods listing;
23881      data EMWS1.Clus8_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
MPRINT(EM_DIAGRAM):    data EMWS1.Clus8_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
23882      label _VARIABLE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" _SEGMENT_ = "Segment Variable" Type = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,         NOQUOTE))" _X_ =
23883         "%sysfunc(sasmsg(sashelp.dmine, rpt_numValue_vlabel, NOQUOTE))" _XLABEL_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_fmtValue_vlabel ,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,        NOQUOTE))" PERCENT =
23884         "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _VARIABLE_ = "Variable" _SEGMENT_ = "Segment Variable" Type = "Type" _X_ = "Numeric Value" _XLABEL_ = "Formatted Value" COUNT = "Frequency Count" PERCENT = "Percent";
23885      dsid = open("WORK.TEMPFREQ");
MPRINT(EM_DIAGRAM):   dsid = open("WORK.TEMPFREQ");
23886      varnum = varnum(dsid, 'ROWVARIABLE');
MPRINT(EM_DIAGRAM):   varnum = varnum(dsid, 'ROWVARIABLE');
23887      freqnum = varnum(dsid, 'FREQUENCY');
MPRINT(EM_DIAGRAM):   freqnum = varnum(dsid, 'FREQUENCY');
23888      pvarnum = varnum(dsid, 'PERCENT');
MPRINT(EM_DIAGRAM):   pvarnum = varnum(dsid, 'PERCENT');
23889      typenum = varnum(dsid, '_TYPE_');
MPRINT(EM_DIAGRAM):   typenum = varnum(dsid, '_TYPE_');
23890      bynum = varnum(dsid, "_SEGMENT_");
MPRINT(EM_DIAGRAM):   bynum = varnum(dsid, "_SEGMENT_");
23891      length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
MPRINT(EM_DIAGRAM):   length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
23892      do while(^fetch(dsid));
MPRINT(EM_DIAGRAM):   do while(^fetch(dsid));
23893      count = getvarn(dsid, freqnum);
MPRINT(EM_DIAGRAM):   count = getvarn(dsid, freqnum);
23894      percent = getvarn(dsid, pvarnum);
MPRINT(EM_DIAGRAM):   percent = getvarn(dsid, pvarnum);
23895      _VARIABLE_ = strip(getvarc(dsid, varnum));
MPRINT(EM_DIAGRAM):   _VARIABLE_ = strip(getvarc(dsid, varnum));
23896      varblnum = varnum(dsid, _VARIABLE_);
MPRINT(EM_DIAGRAM):   varblnum = varnum(dsid, _VARIABLE_);
23897      _SEGMENT_ = getvarn(dsid, bynum);
MPRINT(EM_DIAGRAM):   _SEGMENT_ = getvarn(dsid, bynum);
23898      type = vartype(dsid, varblnum);
MPRINT(EM_DIAGRAM):   type = vartype(dsid, varblnum);
23899      varformat = varfmt(dsid, varblnum);
MPRINT(EM_DIAGRAM):   varformat = varfmt(dsid, varblnum);
23900      if varformat eq '' then varformat = 'best12.';
MPRINT(EM_DIAGRAM):   if varformat eq '' then varformat = 'best12.';
23901      _X_=.;
MPRINT(EM_DIAGRAM):   _X_=.;
23902      if type = 'N' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
23903      _X_ = getvarn(dsid, varblnum);
MPRINT(EM_DIAGRAM):   _X_ = getvarn(dsid, varblnum);
23904      _XLABEL_ = left(putn(_X_, varformat));
MPRINT(EM_DIAGRAM):   _XLABEL_ = left(putn(_X_, varformat));
23905      end;
MPRINT(EM_DIAGRAM):   end;
23906      else _XLABEL_ = getvarc(dsid, varblnum);
MPRINT(EM_DIAGRAM):   else _XLABEL_ = getvarc(dsid, varblnum);
23907      if getvarc(dsid, typenum) = '11' then output;
MPRINT(EM_DIAGRAM):   if getvarc(dsid, typenum) = '11' then output;
23908      end;
MPRINT(EM_DIAGRAM):   end;
23909      dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
23910      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
 
23911      proc sort data=EMWS1.Clus8_PROFILE NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_PROFILE NOTHREADS;
23912      by _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_ _SEGMENT_;
23913      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23914      proc means data=EMWS1.Clus8_PROFILE noprint missing NWAY;
MPRINT(EM_DIAGRAM):   proc means data=EMWS1.Clus8_PROFILE noprint missing NWAY;
23915      class _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   class _VARIABLE_ _SEGMENT_;
23916      var COUNT;
MPRINT(EM_DIAGRAM):   var COUNT;
23917      output out=WORK.Clus8_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
MPRINT(EM_DIAGRAM):   output out=WORK.Clus8_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
23918      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: The data set WORK.CLUS8_STATCOUNT has 10 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
 
23919      proc sort data=WORK.Clus8_STATCOUNT NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Clus8_STATCOUNT NOTHREADS;
23920      by _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_ _SEGMENT_;
23921      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 10 observations read from the data set WORK.CLUS8_STATCOUNT.
NOTE: The data set WORK.CLUS8_STATCOUNT has 10 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23922      data EMWS1.Clus8_PROFILE(drop=SUM);
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_PROFILE(drop=SUM);
23923      label BYPERCENT= "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel, NOQUOTE, _SEGMENT_))";
MPRINT(EM_DIAGRAM):   label BYPERCENT= "Percent";
23924      merge EMWS1.Clus8_PROFILE WORK.Clus8_STATCOUNT;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus8_PROFILE WORK.Clus8_STATCOUNT;
23925      by _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_ _SEGMENT_;
23926      if SUM ne . then BYPERCENT = 100*COUNT/SUM;
MPRINT(EM_DIAGRAM):   if SUM ne . then BYPERCENT = 100*COUNT/SUM;
23927      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: There were 10 observations read from the data set WORK.CLUS8_STATCOUNT.
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23928      proc sort data=EMWS1.Clus8_PROFILE NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS1.Clus8_PROFILE NOTHREADS;
23929      by _VARIABLE_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_;
23930      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23931      proc sort data=WORK.M0DO_WQ6;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M0DO_WQ6;
23932      by Name;
MPRINT(EM_DIAGRAM):   by Name;
23933      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 6 observations read from the data set WORK.M0DO_WQ6.
NOTE: The data set WORK.M0DO_WQ6 has 6 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23934      data EMWS1.Clus8_PROFILE;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_PROFILE;
23935      merge EMWS1.Clus8_PROFILE(in=_a) WORK.M0DO_WQ6(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus8_PROFILE(in=_a) WORK.M0DO_WQ6(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
23936      by _Variable_;
MPRINT(EM_DIAGRAM):   by _Variable_;
23937      label Role = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel ,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Role = "Role";
23938      label Label = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Label = "Label";
23939      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
23940      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable Label is uninitialized.
WARNING: Multiple lengths were specified for the BY variable _VARIABLE_ by input data sets. This might cause unexpected results.
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: There were 6 observations read from the data set WORK.M0DO_WQ6.
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23941      proc sort data=EMWS1.Clus8_PROFILE;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS1.Clus8_PROFILE;
23942      by _SEGMENT_ _VARIABLE_ _X_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_ _VARIABLE_ _X_;
23943      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23944      data EMWS1.Clus8_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
23945      set EMWS1.Clus8_PROFILE;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_PROFILE;
23946      retain orderedValue 0;
MPRINT(EM_DIAGRAM):   retain orderedValue 0;
23947      label OrderedValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_OrderedValue_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label OrderedValue = "Ordered Values";
23948      by _SEGMENT_ _VARIABLE_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_ _VARIABLE_;
23949      if first._variable_ then orderedValue=1;
MPRINT(EM_DIAGRAM):   if first._variable_ then orderedValue=1;
23950      else orderedValue+1;
MPRINT(EM_DIAGRAM):   else orderedValue+1;
23951      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 80 observations read from the data set EMWS1.CLUS8_PROFILE.
NOTE: The data set EMWS1.CLUS8_PROFILE has 80 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23952      proc transpose data=EMWS1.Clus8_OUTVAR out=WORK.Clus8_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
MPRINT(EM_DIAGRAM):    proc transpose data=EMWS1.Clus8_OUTVAR out=WORK.Clus8_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
23953      var newPremHealth--newPremWork;
MPRINT(EM_DIAGRAM):   var newPremHealth--newPremWork;
23954      where _TYPE_ in('TYPE' 'VARIABLE');
MPRINT(EM_DIAGRAM):   where _TYPE_ in('TYPE' 'VARIABLE');
23955      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set EMWS1.CLUS8_OUTVAR.
      WHERE _TYPE_ in ('TYPE', 'VARIABLE');
NOTE: The data set WORK.CLUS8_OUTVAR has 5 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
23956      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
23957      * Clus8: DMVQ Variables;
MPRINT(EM_DIAGRAM):   * Clus8: DMVQ Variables;
23958      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
23959      %macro dmvqvars;
23960          newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
23961      %mend ;
23962
23963
 
23964      data WORK.Clus8_temp;
MPRINT(EM_DIAGRAM):    data WORK.Clus8_temp;
23965      set EMWS1.Clus8_OUTMEAN;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_OUTMEAN;
23966      _idvar_=left(put(_SEGMENT_,4.));
MPRINT(EM_DIAGRAM):   _idvar_=left(put(_SEGMENT_,4.));
23967      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set EMWS1.CLUS8_OUTMEAN.
NOTE: The data set WORK.CLUS8_TEMP has 2 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23968      proc distance data=WORK.Clus8_temp out=EMWS1.Clus8_DISTANCE method=l(2) shape=square;
MPRINT(EM_DIAGRAM):   proc distance data=WORK.Clus8_temp out=EMWS1.Clus8_DISTANCE method=l(2) shape=square;
23969      id _idvar_;
MPRINT(EM_DIAGRAM):   id _idvar_;
23970      var interval(%dmvqvars);
MPRINT(EM_DIAGRAM):   var interval(
MPRINT(DMVQVARS):  newPremHealth newPremHousehold newPremLife newPremMotor newPremWork
MPRINT(EM_DIAGRAM):  );
23971      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set EMWS1.CLUS8_DISTANCE has 2 observations and 3 variables.
NOTE: PROCEDURE DISTANCE used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
 
 
23972      proc datasets lib=EMWS1 nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=EMWS1 nolist;
23973      modify Clus8_DISTANCE;
MPRINT(EM_DIAGRAM):   modify Clus8_DISTANCE;
23974      rename _idvar_=_SEGMENT_;
MPRINT(EM_DIAGRAM):   rename _idvar_=_SEGMENT_;
NOTE: Renaming variable _idvar_ to _SEGMENT_.
MPRINT(EM_DIAGRAM):   run;
23975      run;
 
NOTE: MODIFY was successful for EMWS1.CLUS8_DISTANCE.DATA.
23976      quit;
MPRINT(EM_DIAGRAM):   quit;
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
23977      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
23978      * Clus8: Creating data set for Input Mean report;
MPRINT(EM_DIAGRAM):   * Clus8: Creating data set for Input Mean report;
23979      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23980      data temp(drop=_type_ over_all);
MPRINT(EM_DIAGRAM):   data temp(drop=_type_ over_all);
23981      set EMWS1.Clus8_OUTSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_OUTSTAT;
23982      where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
MPRINT(EM_DIAGRAM):   where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
23983      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 3 observations read from the data set EMWS1.CLUS8_OUTSTAT.
      WHERE _type_ in ('CLUS_MEAN', 'DMDB_MEAN');
NOTE: The data set WORK.TEMP has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
23984      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
23985      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
23986      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 3 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
23987      proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
MPRINT(EM_DIAGRAM):   proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
23988      var newPremHealth--newPremWork;
MPRINT(EM_DIAGRAM):   var newPremHealth--newPremWork;
23989      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 3 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.STDTEMP has 3 observations and 6 variables.
NOTE: The data set WORK.STAT has 10 observations and 6 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
23990      proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
MPRINT(EM_DIAGRAM):   proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
23991      where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
MPRINT(EM_DIAGRAM):   where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
23992      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 4 observations read from the data set WORK.STAT.
      WHERE _type_ in ('LOCATION', 'P0', 'P100', 'SCALE');
NOTE: The data set WORK.TSTAT has 5 observations and 5 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
23993      data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
MPRINT(EM_DIAGRAM):   data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
23994      set tstat;
MPRINT(EM_DIAGRAM):   set tstat;
23995      if std ^in (0, .) then do;
MPRINT(EM_DIAGRAM):   if std ^in (0, .) then do;
23996      stdmin = abs((min-mean)/std);
MPRINT(EM_DIAGRAM):   stdmin = abs((min-mean)/std);
23997      stdmax = abs((max-mean)/std);
MPRINT(EM_DIAGRAM):   stdmax = abs((max-mean)/std);
23998      end;
MPRINT(EM_DIAGRAM):   end;
23999      if mean ^in(0, .) then cv = std/mean;
MPRINT(EM_DIAGRAM):   if mean ^in(0, .) then cv = std/mean;
24000      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
24001      proc sort data=tstat;
MPRINT(EM_DIAGRAM):   proc sort data=tstat;
24002      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
24003      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
24004      proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
MPRINT(EM_DIAGRAM):   proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
24005      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
24006      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 3 observations read from the data set WORK.STDTEMP.
NOTE: The data set WORK.TSTDTEMP has 15 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
 
24007      proc sort data=tstdtemp;
MPRINT(EM_DIAGRAM):   proc sort data=tstdtemp;
24008      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
24009      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 15 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set WORK.TSTDTEMP has 15 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
24010      data tstdtemp;
MPRINT(EM_DIAGRAM):   data tstdtemp;
24011      merge tstdtemp tstat;
MPRINT(EM_DIAGRAM):   merge tstdtemp tstat;
24012      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
24013      STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
MPRINT(EM_DIAGRAM):   STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
24014      drop stdmin stdmax mean;
MPRINT(EM_DIAGRAM):   drop stdmin stdmax mean;
24015      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 15 observations read from the data set WORK.TSTDTEMP.
NOTE: There were 5 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTDTEMP has 15 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
24016      proc transpose data=EMWS1.Clus8_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
MPRINT(EM_DIAGRAM):   proc transpose data=EMWS1.Clus8_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
24017      var newPremHealth--newPremWork;
MPRINT(EM_DIAGRAM):   var newPremHealth--newPremWork;
24018      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
24019      where _type_ = 'VARIABLE';
MPRINT(EM_DIAGRAM):   where _type_ = 'VARIABLE';
24020      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 1 observations read from the data set EMWS1.CLUS8_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 5 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
24021      proc sort data=tempVar;
MPRINT(EM_DIAGRAM):   proc sort data=tempVar;
24022      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
24023      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 5 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
24024      data EMWS1.Clus8_INPUTMEAN(rename=(NAME=VARIABLE));
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_INPUTMEAN(rename=(NAME=VARIABLE));
24025      Length _SEGMENT_CHAR_ $7;
MPRINT(EM_DIAGRAM):   Length _SEGMENT_CHAR_ $7;
24026      label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))" _SEGMENT_CHAR_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentId_vlabel,    NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,     NOQUOTE))"
24026    !  INPUT =
24027         "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,        NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel,        NOQUOTE))" CV = "%sysfunc(sasmsg(sashelp.dmine, rpt_cv_vlabel,           NOQUOTE))" STDMEAN =
24028         "%sysfunc(sasmsg(sashelp.dmine, rpt_normmean_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _SEGMENT_ = "Segment Name" _SEGMENT_CHAR_ = "Segment Id" NAME = "Variable" INPUT = "Input" LABEL = "Label" CV = "Coefficient of Variation" STDMEAN = "Normalized Mean";
24029      merge tempvar tstdtemp;
MPRINT(EM_DIAGRAM):   merge tempvar tstdtemp;
24030      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
24031      if LABEL='' then LABEL=NAME;
MPRINT(EM_DIAGRAM):   if LABEL='' then LABEL=NAME;
24032      _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
MPRINT(EM_DIAGRAM):   _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
24033      if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
MPRINT(EM_DIAGRAM):   if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
24034      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.TEMPVAR.
NOTE: There were 15 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set EMWS1.CLUS8_INPUTMEAN has 15 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
24035      proc sort data=EMWS1.Clus8_INPUTMEAN;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus8_INPUTMEAN;
24036      by descending cv;
MPRINT(EM_DIAGRAM):   by descending cv;
24037      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 15 observations read from the data set EMWS1.CLUS8_INPUTMEAN.
NOTE: The data set EMWS1.CLUS8_INPUTMEAN has 15 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
24038      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
24039      * Clus8: Determining the important variables;
MPRINT(EM_DIAGRAM):   * Clus8: Determining the important variables;
24040      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
 
24041      %let _nobs = 0;
24042      data keepvars(rename=(NAME=INPUT));
MPRINT(EM_DIAGRAM):    data keepvars(rename=(NAME=INPUT));
24043      set EMWS1.Clus8_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
24044      if eof then call symput('_nobs', strip(put(_N_, best.)));
MPRINT(EM_DIAGRAM):   if eof then call symput('_nobs', strip(put(_N_, best.)));
24045      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set EMWS1.CLUS8_OUTIMPORT.
      WHERE IMPORTANCE>0.5;
NOTE: The data set WORK.KEEPVARS has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
24046      proc transpose data=EMWS1.Clus8_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
MPRINT(EM_DIAGRAM):    proc transpose data=EMWS1.Clus8_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
24047      var newPremHealth--newPremWork;
MPRINT(EM_DIAGRAM):   var newPremHealth--newPremWork;
24048      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
24049      where _type_ = 'VARIABLE';
MPRINT(EM_DIAGRAM):   where _type_ = 'VARIABLE';
24050      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 1 observations read from the data set EMWS1.CLUS8_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 5 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
24051      proc sort data=keepvars;
MPRINT(EM_DIAGRAM):   proc sort data=keepvars;
24052      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
24053      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.KEEPVARS has 5 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
24054      proc sort data=tempvar;
MPRINT(EM_DIAGRAM):   proc sort data=tempvar;
24055      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
24056      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 5 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
24057      data vars;
MPRINT(EM_DIAGRAM):   data vars;
24058      merge tempvar keepvars(in=b);
MPRINT(EM_DIAGRAM):   merge tempvar keepvars(in=b);
24059      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
24060      if b then output;
MPRINT(EM_DIAGRAM):   if b then output;
24061      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might cause unexpected results.
NOTE: There were 5 observations read from the data set WORK.TEMPVAR.
NOTE: There were 5 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.VARS has 5 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
24062      proc sort data=vars;
MPRINT(EM_DIAGRAM):   proc sort data=vars;
24063      by descending importance;
MPRINT(EM_DIAGRAM):   by descending importance;
24064      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.VARS.
NOTE: The data set WORK.VARS has 5 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
24065      data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
24066      set vars;
MPRINT(EM_DIAGRAM):   set vars;
24067      if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
MPRINT(EM_DIAGRAM):   if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
24068      else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
MPRINT(EM_DIAGRAM):   else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
24069      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.VARS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * mergeVarMeansandClusLabel;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
24070      *------------------------------------------------------------*;
24071      * mergeVarMeansandClusLabel;
24072      *------------------------------------------------------------*;
24073      data temp(keep=_SEGMENT_ &CLUS_PROFVARS);
MPRINT(EM_DIAGRAM):   data temp(keep=_SEGMENT_ newPremMotor newPremHealth newPremLife newPremWork newPremHousehold);
24074      length _SEGMENT_ &CLUS_PROFVARS 8;
MPRINT(EM_DIAGRAM):   length _SEGMENT_ newPremMotor newPremHealth newPremLife newPremWork newPremHousehold 8;
24075      set EMWS1.Clus8_OUTSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus8_OUTSTAT;
24076      where _type_ ='CLUS_MEAN';
MPRINT(EM_DIAGRAM):   where _type_ ='CLUS_MEAN';
24077      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set EMWS1.CLUS8_OUTSTAT.
      WHERE _type_='CLUS_MEAN';
NOTE: The data set WORK.TEMP has 2 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
24078      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
24079      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
24080      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 2 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
24081      data EMWS1.Clus8_LABEL;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus8_LABEL;
24082      merge EMWS1.Clus8_LABEL(keep=_SEGMENT_ LABEL) temp;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus8_LABEL(keep=_SEGMENT_ LABEL) temp;
24083      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
24084      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set EMWS1.CLUS8_LABEL.
NOTE: There were 2 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS1.CLUS8_LABEL has 2 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
